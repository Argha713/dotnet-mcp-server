{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"dotnet-mcp-server","text":"<p>A .NET 8 MCP server that exposes enterprise tools to AI assistants \u2014 Claude Desktop, VS Code, Cursor, Windsurf, and more.</p> <p> </p>"},{"location":"#install-in-60-seconds","title":"Install in 60 seconds","text":"<pre><code>dotnet tool install -g DotnetMcpServer\ndotnet-mcp-server --init\n</code></pre> <p>The <code>--init</code> wizard creates your config file. Then connect any MCP-compatible client and start asking questions.</p> <p>Full Installation Guide \u2192 Connect Your Client \u2192</p>"},{"location":"#what-is-mcp","title":"What is MCP?","text":"<p>The Model Context Protocol is Anthropic's open standard that lets AI assistants connect to external data sources and tools. Instead of copying data into prompts, the AI calls tools directly.</p> <p>This server brings MCP to the .NET ecosystem. It works with any MCP-compatible client.</p>"},{"location":"#nine-built-in-tools","title":"Nine Built-in Tools","text":"Tool What it does DateTime Current time, timezone conversions FileSystem Read files, list directories (within allowed paths) SQL Query Read-only SQL queries against configured databases HTTP Request GET/POST to allowed external APIs Text Regex, word count, diff, JSON/XML formatting Data Transform JSON query, CSV/JSON/XML conversion, base64, hashing Environment Get/list environment variables (sensitive values masked) System Info OS details, processes, network interfaces Git Read-only Git: status, log, diff, branches, blame"},{"location":"#your-secrets-stay-safe","title":"Your Secrets Stay Safe","text":"<p>When you connect an AI to your databases and files, you need to know that your passwords, API keys, and credentials are protected. dotnet-mcp-server is built so that secrets never leave your machine and are never seen by the AI \u2014 this is enforced structurally, not by policy.</p> <ul> <li>Database passwords live in <code>appsettings.json</code>. The AI only sees connection names, never connection strings.</li> <li>All error messages are sanitized \u2014 passwords are stripped before any response reaches the AI.</li> <li>The SQL tool has no <code>password</code> parameter. The AI cannot ask for one.</li> <li>Environment variables with sensitive names are masked at the source (<code>***</code>).</li> </ul> <p>Full Security &amp; Trust Guide \u2192</p>"},{"location":"#security-by-default","title":"Security by Default","text":"<p>Every tool ships with security constraints that are on by default and cannot be bypassed at runtime:</p> <ul> <li>File access restricted to configured directories only</li> <li>SQL queries are SELECT-only (17 dangerous keywords blocked)</li> <li>HTTP requests limited to an allowed host list</li> <li>Environment variable masking for secrets</li> <li>Git operations are read-only with argument sanitization</li> <li>Regex timeout protection against ReDoS attacks</li> <li>XXE prevention in XML parsing</li> </ul> <p>Security Constraints Reference \u2192</p>"},{"location":"#extend-with-plugins","title":"Extend with Plugins","text":"<p>Write your own tool as a .NET class library and drop the DLL in the <code>plugins/</code> folder \u2014 no fork required.</p> <pre><code>dotnet new install DotnetMcpServer.Templates\ndotnet new mcp-tool -n WeatherTool\n</code></pre> <p>Plugin Development Guide \u2192</p>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing! This page explains how to report bugs, suggest features, and submit pull requests.</p>"},{"location":"contributing/#reporting-bugs","title":"Reporting Bugs","text":"<p>Use the Bug Report issue template. Include:</p> <ul> <li>Steps to reproduce</li> <li>Expected vs. actual behavior</li> <li>Error message or logs</li> <li>Your OS, .NET version, and installation method (<code>global tool</code>, <code>clone &amp; build</code>, or <code>docker</code>)</li> </ul> <p>Capture logs with:</p> <pre><code>dotnet run --project src/McpServer 2&gt; debug.log\n</code></pre>"},{"location":"contributing/#suggesting-features","title":"Suggesting Features","text":"<p>Use the Feature Request template. Describe:</p> <ul> <li>The problem you want to solve</li> <li>Your proposed solution (or just the problem \u2014 a solution is not required)</li> <li>Which tool or area it affects</li> </ul>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<p>Prerequisites: .NET 8 SDK</p> <pre><code>git clone https://github.com/Argha713/dotnet-mcp-server.git\ncd dotnet-mcp-server\ndotnet build\ndotnet test\n</code></pre> <p>Run the server locally:</p> <pre><code>dotnet run --project src/McpServer\n</code></pre> <p>Project layout:</p> <pre><code>src/\n  McpServer/                       # Main server (entry point, handler, built-in tools)\n  McpServer.Plugin.Abstractions/   # ITool contract NuGet package\n  McpServer.Templates/             # dotnet new mcp-tool template package\ntests/\n  McpServer.Tests/                 # xUnit tests (275+)\nexamples/\n  configs/                         # Ready-to-use appsettings profiles\n  SamplePlugin/                    # Reference plugin implementation\n</code></pre>"},{"location":"contributing/#making-a-pull-request","title":"Making a Pull Request","text":"<ol> <li>Fork the repo and create a branch from <code>master</code></li> <li>Use branch naming: <code>feature/short-description</code> or <code>fix/short-description</code></li> <li>Make your changes following the code style below</li> <li>Add or update tests for any logic you change</li> <li>Run <code>dotnet test</code> \u2014 all tests must pass</li> <li>Open a PR against <code>master</code> and fill in the PR template</li> </ol>"},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Target framework: .NET 8 / C# 12. No new NuGet dependencies without prior discussion in an issue.</li> <li>Comment format: All code comments must follow this exact format:   <pre><code>// Argha - YYYY-MM-DD - explanation of why this exists\n</code></pre></li> <li>Never delete code. Comment it out using the format above:   <pre><code>// Argha - 2026-02-25 - disabled old validation logic\n// if (oldCondition) { ... }\n</code></pre></li> <li>No auto-formatters \u2014 match the surrounding style</li> <li>No <code>Co-Authored-By: Claude</code> or similar AI attribution in commits</li> </ul>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># All tests\ndotnet test\n\n# A single test class\ndotnet test --filter \"FullyQualifiedName~McpServer.Tests.DateTimeToolTests\"\n\n# A single test method\ndotnet test --filter \"FullyQualifiedName~McpServer.Tests.DateTimeToolTests.ExecuteAsync_Now_ShouldReturnCurrentTime\"\n</code></pre> <p>Test framework: xUnit with FluentAssertions and Moq.</p>"},{"location":"contributing/#security-constraints","title":"Security Constraints","text":"<p>The following constraints are intentional and must not be weakened without an issue discussion:</p> Area Constraint FileSystem Path allowlist; 1 MB read limit SQL SELECT-only; 17 dangerous keywords blocked; 30s timeout; max 1,000 rows HTTP Host allowlist with subdomain support; HTTP/HTTPS only; 10K char response limit Git Read-only operations; path and argument validation Environment Hardcoded blocklist for sensitive variable names <p>See the Security Constraints page for the full rationale.</p>"},{"location":"contributing/#adding-a-new-tool","title":"Adding a New Tool","text":"<ol> <li>Create a class implementing <code>ITool</code> in <code>src/McpServer/Tools/</code></li> <li>Register it in <code>src/McpServer/Program.cs</code>:    <pre><code>services.AddSingleton&lt;ITool, MyTool&gt;();\n</code></pre></li> <li>Add tests in <code>tests/McpServer.Tests/</code></li> <li>Document it in <code>README.md</code> (features table + usage examples section)</li> </ol> <p>For a drop-in DLL without modifying the core project, see Plugin Development.</p>"},{"location":"roadmap/","title":"Roadmap","text":""},{"location":"roadmap/#phase-1-security-stability","title":"Phase 1 \u2014 Security &amp; Stability \u2705","text":"<ul> <li>[x] Fix SQL injection via subqueries (block <code>;</code>, <code>--</code>, <code>/* */</code>, compound statements, 17 dangerous keywords)</li> <li>[x] Fix path traversal edge case (trailing separator check)</li> <li>[x] Add initialization gate (reject <code>tools/list</code> and <code>tools/call</code> before <code>initialize</code> handshake)</li> <li>[x] Config validation on startup (warn about missing paths, empty connection strings, malformed hosts)</li> <li>[x] Expand test coverage \u2014 8 \u2192 63 tests</li> </ul>"},{"location":"roadmap/#phase-2-new-tools","title":"Phase 2 \u2014 New Tools \u2705","text":"<ul> <li>[x] Text Tool \u2014 <code>regex_match</code>, <code>regex_replace</code>, <code>word_count</code>, <code>diff_text</code>, <code>format_json/xml</code></li> <li>[x] Data Transform Tool \u2014 <code>json_query</code>, <code>csv_to_json</code>, <code>json_to_csv</code>, <code>xml_to_json</code>, <code>base64_encode/decode</code>, <code>hash</code></li> <li>[x] Environment Tool \u2014 <code>get</code>, <code>list</code>, <code>has</code> (with sensitive variable masking)</li> <li>[x] System Info Tool \u2014 <code>system_info</code>, <code>processes</code>, <code>network</code></li> <li>[x] Git Tool \u2014 <code>status</code>, <code>log</code>, <code>diff</code>, <code>branch_list</code>, <code>blame</code> (read-only)</li> <li>[x] Added 5 new tools (4 \u2192 9 total), 63 \u2192 150 tests, zero new NuGet dependencies</li> </ul>"},{"location":"roadmap/#phase-3-production-readiness","title":"Phase 3 \u2014 Production Readiness \u2705","text":"<ul> <li>[x] Dockerfile + docker-compose (one-command setup)</li> <li>[x] GitHub Actions CI/CD (<code>ci.yml</code> on push/PR; <code>release.yml</code> on <code>v*</code> tags)</li> <li>[x] Self-contained single-file executables (win-x64, linux-x64, osx-arm64)</li> <li>[x] <code>dotnet tool install -g DotnetMcpServer</code> distribution</li> <li>[x] <code>--init</code> config wizard for first-run setup</li> <li>[x] <code>--validate</code> health check for all configured connections</li> </ul>"},{"location":"roadmap/#phase-4-mcp-protocol-completeness","title":"Phase 4 \u2014 MCP Protocol Completeness \u2705","text":"<ul> <li>[x] Resources support (<code>resources/list</code>, <code>resources/read</code>)</li> <li>[x] Prompts support (<code>prompts/list</code>, <code>prompts/get</code>) with built-in templates</li> <li>[x] Logging protocol (<code>logging/setLevel</code>, <code>notifications/message</code>)</li> <li>[x] Progress notifications for long-running operations</li> </ul>"},{"location":"roadmap/#phase-5-developer-experience","title":"Phase 5 \u2014 Developer Experience \u2705","text":"<ul> <li>[x] Plugin architecture (drop-in tool DLLs from <code>plugins/</code> folder)</li> <li>[x] <code>dotnet new mcp-tool</code> project template for custom tools</li> <li>[x] Documentation site (this site)</li> <li>[x] Example configurations (<code>developer.json</code>, <code>data-analyst.json</code>, <code>api-integrator.json</code>)</li> <li>[x] <code>CONTRIBUTING.md</code> + issue templates</li> </ul>"},{"location":"roadmap/#phase-6-advanced-features","title":"Phase 6 \u2014 Advanced Features \u2705","text":""},{"location":"roadmap/#phase-61-multi-database-support","title":"Phase 6.1 \u2014 Multi-Database Support \u2705","text":"<ul> <li>[x] <code>IDatabaseProvider</code> abstraction \u2014 SQL tool is now engine-agnostic</li> <li>[x] SQL Server provider (refactored from original hardcoded implementation)</li> <li>[x] PostgreSQL provider (Npgsql 8.x)</li> <li>[x] MySQL / MariaDB provider (MySqlConnector 2.x)</li> <li>[x] SQLite provider (Microsoft.Data.Sqlite 8.x, uses <code>sqlite_master</code> + <code>PRAGMA table_info</code>)</li> <li>[x] <code>configure_connection</code> action \u2014 guided setup without password, writes template to appsettings.json</li> <li>[x] <code>test_connection</code> action \u2014 human-readable diagnostics, passwords never shown</li> <li>[x] <code>ConnectionStringSanitizer</code> \u2014 passwords stripped from all error output</li> <li>[x] Per-provider error classification (maps error codes to plain-English fix instructions)</li> <li>[x] Security &amp; Trust documentation \u2014 explains why secrets never reach the AI</li> <li>[x] Per-tool \"Secrets Stay Safe\" callouts across all tool docs</li> </ul>"},{"location":"roadmap/#phase-62-audit-logging","title":"Phase 6.2 \u2014 Audit Logging \u2705","text":"<ul> <li>[x] Every tool call recorded to rolling daily JSONL files (<code>audit-yyyy-MM-dd.jsonl</code>)</li> <li>[x] Captures: timestamp, correlation ID, tool name, action, sanitized arguments, outcome, error message, duration (ms)</li> <li>[x] Sensitive argument values (password, token, api_key, etc.) replaced with <code>[REDACTED]</code> before writing to disk</li> <li>[x] Configurable retention \u2014 files older than <code>Audit:RetentionDays</code> (default: 30) deleted on startup</li> <li>[x] Log directory defaults to <code>{configDir}/audit/</code>, fully configurable via <code>Audit:LogDirectory</code></li> <li>[x] Audit failures are non-fatal \u2014 tool response always returned even if disk write fails</li> <li>[x] Disable entirely with <code>Audit:Enabled: false</code></li> </ul>"},{"location":"roadmap/#phase-63-rate-limiting","title":"Phase 6.3 \u2014 Rate Limiting \u2705","text":"<ul> <li>[x] Per-tool sliding window rate limiter (1-minute window)</li> <li>[x] <code>RateLimit:DefaultLimitPerMinute</code> (default: 60) applies to any tool without an explicit override</li> <li>[x] <code>RateLimit:ToolLimits</code> \u2014 per-tool overrides (e.g. <code>\"sql_query\": 20</code>, <code>\"datetime\": 0</code> for unlimited)</li> <li>[x] Rate-limited calls return a clear <code>IsError</code> response with the tool name \u2014 AI can read and understand it</li> <li>[x] Rate-limited calls are recorded in the audit log with outcome <code>\"RateLimited\"</code></li> <li>[x] Thread-safe per-tool buckets (<code>lock</code> per bucket, <code>ConcurrentDictionary</code> across tools)</li> <li>[x] Disable entirely with <code>RateLimit:Enabled: false</code></li> </ul>"},{"location":"roadmap/#phase-64-response-caching","title":"Phase 6.4 \u2014 Response Caching \u2705","text":"<ul> <li>[x] In-memory response cache with per-tool TTL configuration</li> <li>[x] <code>Cache:DefaultTtlSeconds</code> (default: 60s) applies to any tool without an explicit override</li> <li>[x] <code>Cache:ToolTtls</code> \u2014 per-tool TTL overrides (<code>\"datetime\": 0</code> to bypass, <code>\"sql_query\": 300</code> for 5 min, etc.)</li> <li>[x] TTL of 0 bypasses the cache entirely for that tool (volatile tools: datetime, system_info, git, environment)</li> <li>[x] Only successful results cached (<code>IsError = false</code>); transient errors always re-executed</li> <li>[x] Cache hits audited with outcome <code>\"CacheHit\"</code> in the audit log</li> <li>[x] Bounded cache capacity (<code>Cache:MaxEntries</code>, default 1000); evicts expired entries first, then oldest-inserted</li> <li>[x] Thread-safe <code>ConcurrentDictionary</code> backing store with lock-guarded eviction</li> <li>[x] Disable entirely with <code>Cache:Enabled: false</code></li> </ul>"},{"location":"roadmap/#phase-7-tool-level-authentication-permissions","title":"Phase 7 \u2014 Tool-level Authentication &amp; Permissions \u2705","text":"<ul> <li>[x] API key authentication layer \u2014 clients present <code>MCP_API_KEY</code> env var (set in Claude Desktop's <code>env</code> block)</li> <li>[x] Per-key authorization \u2014 each key maps to an explicit <code>AllowedTools</code> list (<code>\"*\"</code> = all tools)</li> <li>[x] Per-tool action allowlists \u2014 <code>AllowedActions</code> restricts individual actions within a tool</li> <li>[x] <code>NullAuthorizationService</code> singleton \u2014 auth disabled by default (<code>Auth:Enabled: false</code>); fully backwards-compatible</li> <li>[x] Auth check happens before rate limiting \u2014 unauthorized calls don't consume rate-limit tokens</li> <li>[x] Unauthorized calls return <code>IsError=true</code> with a clear message \u2014 AI can read and understand it</li> <li>[x] Audit log gains <code>clientIdentity</code> field \u2014 shows which key made each call</li> <li>[x] Unauthorized calls audited with outcome <code>\"Unauthorized\"</code></li> <li>[x] Key is case-sensitive; tool names and action names are case-insensitive</li> </ul>"},{"location":"configuration/profiles/","title":"Configuration Profiles","text":"<p>Ready-to-use <code>appsettings.json</code> files for three common use cases live in <code>examples/configs/</code>.</p> <p>Copy the profile that matches your needs to your config directory and edit the values to suit your environment.</p>"},{"location":"configuration/profiles/#developer-profile","title":"Developer Profile","text":"<p>File: <code>examples/configs/developer.json</code> Best for: Software developers working on local repositories with local or dev databases.</p> <p>What's configured:</p> Section Details AllowedPaths Source repos, Documents, <code>C:\\Projects</code>, <code>C:\\Temp</code> SQL Connections LocalDev (SQL Server), LocalSqlite (SQLite) AllowedHosts api.github.com, raw.githubusercontent.com, registry.npmjs.org, pypi.org, nuget.org, docs.microsoft.com, learn.microsoft.com, httpbin.org Logging <code>McpServer=Debug</code> (verbose, for development) <pre><code>{\n  \"FileSystem\": {\n    \"AllowedPaths\": [\n      \"C:\\\\Users\\\\YourUsername\\\\source\\\\repos\",\n      \"C:\\\\Users\\\\YourUsername\\\\Documents\",\n      \"C:\\\\Projects\",\n      \"C:\\\\Temp\"\n    ]\n  },\n  \"Sql\": {\n    \"Connections\": {\n      \"LocalDev\": {\n        \"ConnectionString\": \"Server=localhost;Database=DevDB;Trusted_Connection=True;TrustServerCertificate=True;\",\n        \"Description\": \"Local development SQL Server database\"\n      }\n    }\n  },\n  \"Http\": {\n    \"AllowedHosts\": [\n      \"api.github.com\",\n      \"raw.githubusercontent.com\",\n      \"registry.npmjs.org\",\n      \"nuget.org\",\n      \"docs.microsoft.com\"\n    ]\n  }\n}\n</code></pre>"},{"location":"configuration/profiles/#data-analyst-profile","title":"Data Analyst Profile","text":"<p>File: <code>examples/configs/data-analyst.json</code> Best for: Data analysts working with data directories, analytics databases, and public data APIs.</p> <p>What's configured:</p> Section Details AllowedPaths Downloads, Documents\\Reports, <code>C:\\Data</code>, <code>C:\\Exports</code> SQL Connections DataWarehouse, Analytics, Staging AllowedHosts data.worldbank.org, api.census.gov, fred.stlouisfed.org, api.exchangerate-api.com, stats.oecd.org, and more HTTP Timeout 60 seconds (for large data API responses) Logging <code>Default=Warning</code>, <code>McpServer=Information</code> <pre><code>{\n  \"FileSystem\": {\n    \"AllowedPaths\": [\n      \"C:\\\\Users\\\\YourUsername\\\\Downloads\",\n      \"C:\\\\Users\\\\YourUsername\\\\Documents\\\\Reports\",\n      \"C:\\\\Data\",\n      \"C:\\\\Exports\"\n    ]\n  },\n  \"Sql\": {\n    \"Connections\": {\n      \"DataWarehouse\": {\n        \"ConnectionString\": \"Server=dw-server;Database=DataWarehouse;Trusted_Connection=True;\",\n        \"Description\": \"Corporate data warehouse\"\n      }\n    }\n  },\n  \"Http\": {\n    \"AllowedHosts\": [\n      \"data.worldbank.org\",\n      \"api.census.gov\",\n      \"fred.stlouisfed.org\",\n      \"stats.oecd.org\",\n      \"api.exchangerate-api.com\"\n    ],\n    \"TimeoutSeconds\": 60\n  }\n}\n</code></pre>"},{"location":"configuration/profiles/#api-integrator-profile","title":"API Integrator Profile","text":"<p>File: <code>examples/configs/api-integrator.json</code> Best for: Integration developers connecting to external SaaS APIs \u2014 minimal filesystem access, no SQL.</p> <p>What's configured:</p> Section Details AllowedPaths Downloads and <code>C:\\Temp</code> only SQL Connections None (empty) AllowedHosts api.github.com, api.stripe.com, api.sendgrid.com, api.twilio.com, api.openai.com, hooks.slack.com, api.notion.com, api.airtable.com, graph.microsoft.com, and more Plugin Config <code>DefaultApiTimeout=30</code>, <code>RetryCount=3</code> <pre><code>{\n  \"FileSystem\": {\n    \"AllowedPaths\": [\n      \"C:\\\\Users\\\\YourUsername\\\\Downloads\",\n      \"C:\\\\Temp\"\n    ]\n  },\n  \"Sql\": {\n    \"Connections\": {}\n  },\n  \"Http\": {\n    \"AllowedHosts\": [\n      \"api.github.com\",\n      \"api.stripe.com\",\n      \"api.sendgrid.com\",\n      \"api.twilio.com\",\n      \"api.openai.com\",\n      \"hooks.slack.com\",\n      \"api.notion.com\",\n      \"graph.microsoft.com\"\n    ]\n  },\n  \"Plugins\": {\n    \"Config\": {\n      \"DefaultApiTimeout\": \"30\",\n      \"RetryCount\": \"3\"\n    }\n  }\n}\n</code></pre>"},{"location":"configuration/profiles/#using-a-profile","title":"Using a Profile","text":"<p>Global tool:</p> WindowsLinux / macOS <pre><code>copy examples\\configs\\developer.json \"$env:APPDATA\\dotnet-mcp-server\\appsettings.json\"\n</code></pre> <pre><code>cp examples/configs/developer.json ~/.config/dotnet-mcp-server/appsettings.json\n</code></pre> <p>Then edit the file to update paths, connection strings, and hostnames for your environment.</p>"},{"location":"configuration/profiles/#next-steps","title":"Next Steps","text":"<ul> <li>Validate your config \u2192</li> <li>Understand security constraints \u2192</li> </ul>"},{"location":"configuration/security/","title":"Security Constraints","text":"<p>dotnet-mcp-server is designed with a defense-in-depth approach. Every tool has security constraints enforced at the server level. These are intentional design decisions \u2014 they exist to make the server safe to run with AI clients that could be manipulated by prompt injection.</p> <p>Looking for the trust &amp; privacy guide?</p> <p>If you want to understand why your passwords and secrets never reach the AI, see the Security &amp; Trust Guide.</p> <p>Do not weaken these constraints</p> <p>If you believe a constraint needs changing, open an issue to discuss before submitting a PR. The security model is intentional.</p>"},{"location":"configuration/security/#filesystem","title":"FileSystem","text":"Constraint Detail Path allowlist Only paths in <code>AllowedPaths</code> (and their subdirectories) are accessible Traversal prevention A path like <code>C:\\AllowedPathEvil</code> will never match <code>C:\\AllowedPath</code> \u2014 separator boundary checks prevent this Read limit Files larger than 1 MB cannot be read No write operations The tool is read-only \u2014 no create, write, delete, or rename <p>Why this matters: Without a path allowlist, a prompt injection attack could instruct the AI to read <code>/etc/passwd</code>, SSH private keys, or application credentials. The 1 MB read limit prevents the AI from being used to exfiltrate large files.</p>"},{"location":"configuration/security/#sql","title":"SQL","text":"Constraint Detail SELECT-only All queries must be <code>SELECT</code> statements Keyword blocklist 17 dangerous keywords blocked: <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>DROP</code>, <code>ALTER</code>, <code>CREATE</code>, <code>TRUNCATE</code>, <code>EXEC</code>, <code>EXECUTE</code>, <code>MERGE</code>, <code>REPLACE</code>, <code>CALL</code>, <code>GRANT</code>, <code>REVOKE</code>, <code>DENY</code>, <code>USE</code>, <code>BULK</code> Compound statement prevention Semicolons blocked to prevent statement chaining Comment blocking <code>--</code> and <code>/* */</code> blocked to prevent injection via comments Query timeout 30-second timeout on all queries Row limit Maximum 1,000 rows returned <p>Why this matters: An AI client under prompt injection could attempt to run destructive queries. By restricting to SELECT and blocking all write keywords at the application layer (in addition to any database-level permissions you configure), the risk is significantly reduced.</p>"},{"location":"configuration/security/#http","title":"HTTP","text":"Constraint Detail Host allowlist Only hosts in <code>AllowedHosts</code> are reachable Subdomain matching Host matching includes exact match and subdomain match only Scheme restriction Only <code>http://</code> and <code>https://</code> are allowed \u2014 no <code>file://</code>, <code>ftp://</code>, etc. Response truncation Responses are truncated at 10,000 characters <p>Why this matters: Without a host allowlist, the server could be used to probe internal network services, exfiltrate data to arbitrary endpoints, or perform server-side request forgery (SSRF). The scheme restriction prevents access to local file system via <code>file://</code> URLs.</p>"},{"location":"configuration/security/#git","title":"Git","text":"Constraint Detail Read-only operations Only <code>status</code>, <code>log</code>, <code>diff</code>, <code>branch_list</code>, and <code>blame</code> are available Argument sanitization All arguments are validated before being passed to Git to prevent injection Path validation Repository paths are validated the same way as filesystem paths <p>Why this matters: Git commands with write access (push, commit, reset, merge) could destroy history or exfiltrate code. The tool intentionally exposes only introspection operations.</p>"},{"location":"configuration/security/#environment","title":"Environment","text":"Constraint Detail Sensitive value masking Variables matching sensitive name patterns return <code>***</code> instead of their value Blocked patterns Names containing <code>PASSWORD</code>, <code>SECRET</code>, <code>TOKEN</code>, <code>KEY</code>, <code>CREDENTIAL</code>, <code>PRIVATE</code>, <code>PWD</code>, <code>APIKEY</code>, and similar words are masked <p>Why this matters: Environment variables often contain database passwords, API tokens, and private keys. Masking prevents the AI from inadvertently exposing these in a conversation transcript.</p>"},{"location":"configuration/security/#text-data-transform","title":"Text &amp; Data Transform","text":"Constraint Detail ReDoS protection Regex operations run with a timeout to prevent catastrophic backtracking XXE prevention XML parsing uses a hardened <code>XmlReader</code> that disables external entity resolution"},{"location":"configuration/security/#general","title":"General","text":"<ul> <li>No arbitrary code execution \u2014 there is no <code>eval</code>, <code>exec</code>, or shell-command tool</li> <li>No network discovery \u2014 the system_info tool reports local interfaces only</li> <li>JSON-RPC over stdio \u2014 the server is a subprocess; it has no listening TCP port to attack directly</li> </ul>"},{"location":"configuration/security/#reporting-security-issues","title":"Reporting Security Issues","text":"<p>If you discover a security vulnerability, do not open a public issue. Please use the GitHub Security Advisory feature to report it privately.</p>"},{"location":"deployment/ci-cd/","title":"CI/CD","text":"<p>The project uses two GitHub Actions workflows: one for continuous integration on every push, and one for the release pipeline triggered by version tags.</p>"},{"location":"deployment/ci-cd/#ci-workflow-ciyml","title":"CI Workflow (<code>ci.yml</code>)","text":"<p>Triggers: Push to <code>master</code>, pull requests to <code>master</code></p>"},{"location":"deployment/ci-cd/#jobs","title":"Jobs","text":""},{"location":"deployment/ci-cd/#build-and-test","title":"<code>build-and-test</code>","text":"<p>Runs on <code>ubuntu-latest</code>. Steps:</p> <ol> <li>Checkout code</li> <li>Set up .NET 8</li> <li><code>dotnet build</code></li> <li><code>dotnet test</code></li> </ol> <p>This is the gate for every PR \u2014 it must pass before merging.</p>"},{"location":"deployment/ci-cd/#template-smoke-test","title":"<code>template-smoke-test</code>","text":"<p>Depends on <code>build-and-test</code>. Verifies the <code>dotnet new mcp-tool</code> template works end-to-end:</p> <ol> <li>Pack <code>McpServer.Plugin.Abstractions</code> to a local NuGet feed</li> <li>Install the <code>mcp-tool</code> template from the built package</li> <li>Scaffold a new plugin with <code>dotnet new mcp-tool -n SmokeTest</code></li> <li>Restore (using the local feed for the abstractions package)</li> <li>Build \u2014 if this fails, the template is broken</li> </ol>"},{"location":"deployment/ci-cd/#release-workflow-releaseyml","title":"Release Workflow (<code>release.yml</code>)","text":"<p>Trigger: Tags matching <code>v*</code> (e.g. <code>v1.2.3</code>)</p>"},{"location":"deployment/ci-cd/#jobs_1","title":"Jobs","text":""},{"location":"deployment/ci-cd/#build-binaries-matrix","title":"<code>build-binaries</code> (matrix)","text":"<p>Runs in parallel on <code>windows-latest</code>, <code>ubuntu-latest</code>, <code>macos-latest</code> for targets <code>win-x64</code>, <code>linux-x64</code>, <code>osx-arm64</code>.</p> <p>Steps per platform:</p> <ol> <li>Run all tests</li> <li><code>dotnet publish</code> with <code>--self-contained --single-file</code></li> <li>Upload artifact</li> </ol>"},{"location":"deployment/ci-cd/#create-release","title":"<code>create-release</code>","text":"<p>Depends on <code>build-binaries</code>. Steps:</p> <ol> <li>Download all three platform artifacts</li> <li>Create a GitHub Release with the tag</li> <li>Attach the three binaries as release assets</li> </ol>"},{"location":"deployment/ci-cd/#publish-nuget","title":"<code>publish-nuget</code>","text":"<p>Depends on <code>build-binaries</code>. Steps:</p> <ol> <li><code>dotnet pack</code> the main <code>McpServer</code> project</li> <li><code>dotnet nuget push</code> to NuGet.org</li> </ol> <p>Requires the <code>NUGET_API_KEY</code> secret to be set in repository settings.</p>"},{"location":"deployment/ci-cd/#publish-templates","title":"<code>publish-templates</code>","text":"<p>Depends on <code>publish-nuget</code>. Steps:</p> <ol> <li><code>dotnet pack</code> the <code>McpServer.Templates</code> project</li> <li><code>dotnet nuget push</code> to NuGet.org</li> </ol>"},{"location":"deployment/ci-cd/#creating-a-release","title":"Creating a Release","text":"<pre><code>git tag v1.2.3\ngit push origin v1.2.3\n</code></pre> <p>This triggers:</p> <ol> <li>Build &amp; test on all three platforms</li> <li>GitHub Release with platform binaries attached</li> <li><code>DotnetMcpServer</code> pushed to NuGet.org</li> <li><code>DotnetMcpServer.Templates</code> pushed to NuGet.org</li> </ol>"},{"location":"deployment/ci-cd/#required-secrets","title":"Required Secrets","text":"Secret Used by Description <code>NUGET_API_KEY</code> <code>publish-nuget</code>, <code>publish-templates</code> NuGet.org API key for pushing packages <p>Set in: Repository Settings \u2192 Secrets and variables \u2192 Actions \u2192 New repository secret.</p>"},{"location":"deployment/docker/","title":"Docker","text":"<p>Run dotnet-mcp-server and a SQL Server 2022 database together with a single command \u2014 no .NET SDK required on the host machine.</p>"},{"location":"deployment/docker/#quick-start","title":"Quick Start","text":"<p>Step 1: Copy the example files:</p> <pre><code>cp docker/appsettings.example.json docker/appsettings.json\ncp .env.example .env\n</code></pre> <p>Step 2: Set a strong SQL Server password in <code>.env</code>:</p> <pre><code>SQL_SA_PASSWORD=YourStrong!Password123\n</code></pre> <p>Step 3: Edit <code>docker/appsettings.json</code> to configure your allowed paths, SQL connections, and HTTP hosts. The SQL connection string should use <code>sqlserver</code> as the hostname (the docker-compose service name):</p> <pre><code>{\n  \"Sql\": {\n    \"Connections\": {\n      \"Local\": {\n        \"ConnectionString\": \"Server=sqlserver;Database=MyDB;User Id=sa;Password=YourStrong!Password123;TrustServerCertificate=True;\",\n        \"Description\": \"SQL Server in Docker\"\n      }\n    }\n  }\n}\n</code></pre> <p>Step 4: Build and start:</p> <pre><code>docker-compose up --build\n</code></pre> <p>Tests run on every build</p> <p>The multi-stage Dockerfile runs the full test suite during the build. If any test fails, the build is aborted. This ensures the published image is always tested.</p>"},{"location":"deployment/docker/#what-docker-compose-starts","title":"What docker-compose Starts","text":"Service Image Purpose <code>mcp-server</code> Built from <code>Dockerfile</code> The MCP server binary <code>sqlserver</code> <code>mcr.microsoft.com/mssql/server:2022-latest</code> SQL Server 2022 <p>The <code>mcp-server</code> container waits for <code>sqlserver</code> to pass a health check before starting.</p>"},{"location":"deployment/docker/#dockerfile-architecture","title":"Dockerfile Architecture","text":"<p>The Dockerfile uses a multi-stage build:</p> <pre><code>Stage 1: sdk        \u2192 restore + build (full .NET SDK)\nStage 2: test       \u2192 run dotnet test (must pass)\nStage 3: publish    \u2192 dotnet publish --self-contained\nStage 4: runtime    \u2192 Alpine-based runtime image (minimal)\n</code></pre> <p>The final image is Alpine-based and contains only the self-contained binary \u2014 no .NET runtime or SDK.</p>"},{"location":"deployment/docker/#connecting-claude-desktop-to-the-docker-container","title":"Connecting Claude Desktop to the Docker Container","text":"<pre><code>{\n  \"mcpServers\": {\n    \"dotnet-mcp-server\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"run\", \"--rm\", \"-i\",\n        \"-v\", \"/absolute/path/to/docker/appsettings.json:/home/app/.config/dotnet-mcp-server/appsettings.json:ro\",\n        \"dotnet-mcp-server\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Windows paths</p> <p>On Windows, use forward slashes or double-escaped backslashes in the volume mount path: <pre><code>\"C:/Users/YourName/project/docker/appsettings.json:/home/app/.config/dotnet-mcp-server/appsettings.json:ro\"\n</code></pre></p>"},{"location":"deployment/docker/#config-file-location-inside-the-container","title":"Config File Location Inside the Container","text":"<p>The container expects the config at:</p> <pre><code>/home/app/.config/dotnet-mcp-server/appsettings.json\n</code></pre> <p>This matches the Linux global tool convention. Mount your <code>docker/appsettings.json</code> to this path.</p>"},{"location":"deployment/docker/#logs","title":"Logs","text":"<p>Logs are written to stderr. View them with:</p> <pre><code>docker-compose logs -f mcp-server\n</code></pre>"},{"location":"getting-started/clients/","title":"Connecting Clients","text":"<p>dotnet-mcp-server works with any MCP-compatible client. Choose your client below.</p> <p>Global tool vs. clone &amp; build</p> <p>All examples below use <code>\"command\": \"dotnet-mcp-server\"</code> (global tool). If you installed via Option B (clone &amp; build), replace it with: <pre><code>\"command\": \"dotnet\",\n\"args\": [\"run\", \"--project\", \"C:\\\\path\\\\to\\\\dotnet-mcp-server\\\\src\\\\McpServer\"]\n</code></pre></p>"},{"location":"getting-started/clients/#claude-desktop","title":"Claude Desktop","text":"<p>Config file location:</p> OS Path Windows <code>%APPDATA%\\Claude\\claude_desktop_config.json</code> macOS <code>~/Library/Application Support/Claude/claude_desktop_config.json</code> <p>Add this to the config file:</p> <pre><code>{\n  \"mcpServers\": {\n    \"dotnet-mcp-server\": {\n      \"command\": \"dotnet-mcp-server\"\n    }\n  }\n}\n</code></pre> <p>Restart Claude Desktop. The tools appear in the chat interface.</p> <p>Docker variant:</p> <pre><code>{\n  \"mcpServers\": {\n    \"dotnet-mcp-server\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"run\", \"--rm\", \"-i\",\n        \"-v\", \"/absolute/path/to/docker/appsettings.json:/home/app/.config/dotnet-mcp-server/appsettings.json:ro\",\n        \"dotnet-mcp-server\"\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/clients/#vs-code-github-copilot-built-in","title":"VS Code \u2014 GitHub Copilot (Built-in)","text":"<p>VS Code 1.99+ has native MCP support via GitHub Copilot agent mode. No extension required.</p> <p>Step 1: Create <code>.vscode/mcp.json</code> in your workspace root:</p> <pre><code>{\n  \"servers\": {\n    \"dotnet-mcp-server\": {\n      \"command\": \"dotnet-mcp-server\"\n    }\n  }\n}\n</code></pre> <p>Step 2: Open Copilot Chat (<code>Ctrl+Shift+I</code> / <code>Cmd+Shift+I</code>).</p> <p>Step 3: Switch to Agent mode via the dropdown at the top of the chat panel.</p> <p>Step 4: Ask a question \u2014 the tools will be listed and callable.</p> <p>To enable globally instead of per-workspace, add to your VS Code <code>settings.json</code>:</p> <pre><code>{\n  \"mcp\": {\n    \"servers\": {\n      \"dotnet-mcp-server\": {\n        \"command\": \"dotnet-mcp-server\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/clients/#vs-code-continuedev","title":"VS Code \u2014 Continue.dev","text":"<p>Continue is a free, open-source AI coding assistant.</p> <p>Step 1: Install the Continue extension from the VS Code Marketplace.</p> <p>Step 2: Press <code>Ctrl+Shift+P</code> \u2192 <code>Continue: Open Config</code> to open <code>~/.continue/config.json</code>.</p> <p>Step 3: Add the server under <code>mcpServers</code>:</p> <pre><code>{\n  \"mcpServers\": [\n    {\n      \"name\": \"dotnet-mcp-server\",\n      \"command\": \"dotnet-mcp-server\"\n    }\n  ]\n}\n</code></pre> <p>Step 4: Reload VS Code (<code>Ctrl+Shift+P</code> \u2192 <code>Developer: Reload Window</code>).</p>"},{"location":"getting-started/clients/#vs-code-cline","title":"VS Code \u2014 Cline","text":"<p>Cline is a free, open-source autonomous AI coding agent.</p> <p>Step 1: Install the Cline extension from the VS Code Marketplace.</p> <p>Step 2: Click the Cline icon \u2192 gear icon \u2192 MCP Servers \u2192 Edit MCP Settings.</p> <p>Step 3: This opens <code>~/Documents/Cline/cline_mcp_settings.json</code>. Add:</p> <pre><code>{\n  \"mcpServers\": {\n    \"dotnet-mcp-server\": {\n      \"command\": \"dotnet-mcp-server\"\n    }\n  }\n}\n</code></pre> <p>Step 4: Restart Cline.</p>"},{"location":"getting-started/clients/#cursor","title":"Cursor","text":"<p>Cursor is an AI-first code editor with built-in MCP support.</p> <p>Option 1: Create or edit <code>~/.cursor/mcp.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"dotnet-mcp-server\": {\n      \"command\": \"dotnet-mcp-server\"\n    }\n  }\n}\n</code></pre> <p>Option 2: Open Cursor Settings \u2192 MCP section \u2192 click \"Add new MCP Server\" and fill in the fields.</p> <p>Restart Cursor. Use the tools in Composer (Agent mode).</p>"},{"location":"getting-started/clients/#windsurf-codeium","title":"Windsurf (Codeium)","text":"<p>Windsurf is an AI-powered editor by Codeium.</p> <p>Step 1: Open Settings \u2192 MCP \u2192 click \"Add Server\".</p> <p>Step 2: Configure:</p> <pre><code>{\n  \"mcpServers\": {\n    \"dotnet-mcp-server\": {\n      \"command\": \"dotnet-mcp-server\"\n    }\n  }\n}\n</code></pre> <p>Step 3: Restart Windsurf. Tools are available in Cascade (the AI chat).</p>"},{"location":"getting-started/clients/#claude-code-cli","title":"Claude Code (CLI)","text":"<p>Claude Code is Anthropic's CLI tool.</p> <pre><code>claude mcp add dotnet-mcp-server dotnet-mcp-server\n</code></pre> <p>Claude Code auto-starts the server when needed.</p>"},{"location":"getting-started/clients/#chatgpt-desktop","title":"ChatGPT Desktop","text":"<p>OpenAI's ChatGPT desktop app supports MCP servers (requires Plus plan).</p> <p>Step 1: Open Settings \u2192 Beta Features \u2192 enable MCP Servers.</p> <p>Step 2: Go to Settings \u2192 MCP Servers \u2192 \"Add Server\".</p> <p>Step 3: Configure:</p> <ul> <li>Name: <code>dotnet-mcp-server</code></li> <li>Command: <code>dotnet-mcp-server</code></li> <li>Arguments: (leave blank)</li> </ul> <p>Step 4: Restart ChatGPT.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>The server is configured via <code>appsettings.json</code>. The location depends on how you installed it.</p> Install method Config location Global tool (Windows) <code>%APPDATA%\\dotnet-mcp-server\\appsettings.json</code> Global tool (Linux/macOS) <code>~/.config/dotnet-mcp-server/appsettings.json</code> Clone &amp; build <code>src/McpServer/appsettings.json</code> Docker <code>docker/appsettings.json</code> (mounted into the container)"},{"location":"getting-started/configuration/#create-your-config","title":"Create Your Config","text":"<p>Run the interactive wizard \u2014 it asks you questions and writes the file:</p> <pre><code>dotnet-mcp-server --init\n</code></pre> <p>Or start from one of the ready-to-use profiles in <code>examples/configs/</code>.</p>"},{"location":"getting-started/configuration/#validate-your-config","title":"Validate Your Config","text":"<p>After editing, check that all connections and paths are reachable:</p> <pre><code>dotnet-mcp-server --validate\n</code></pre> <p>This tests every SQL connection, checks that allowed paths exist, and confirms HTTP hosts are valid.</p>"},{"location":"getting-started/configuration/#full-config-reference","title":"Full Config Reference","text":""},{"location":"getting-started/configuration/#filesystem","title":"FileSystem","text":"<pre><code>{\n  \"FileSystem\": {\n    \"AllowedPaths\": [\n      \"C:\\\\Users\\\\YourName\\\\Documents\",\n      \"C:\\\\Projects\",\n      \"/home/user/projects\"\n    ]\n  }\n}\n</code></pre> Key Type Description <code>AllowedPaths</code> <code>string[]</code> Directories the server is allowed to read from. Subdirectories are included. <p>Security constraint</p> <p>Path traversal attacks are blocked. A path like <code>C:\\AllowedPathEvil</code> will never match <code>C:\\AllowedPath</code>. Only exact prefix matches (with separator check) are accepted.</p>"},{"location":"getting-started/configuration/#sql","title":"SQL","text":"<pre><code>{\n  \"Sql\": {\n    \"Connections\": {\n      \"Production\": {\n        \"ConnectionString\": \"Server=prod-server;Database=MyApp;Trusted_Connection=True;\",\n        \"Description\": \"Production database (read-only)\"\n      },\n      \"Analytics\": {\n        \"ConnectionString\": \"Server=...;Database=Analytics;User Id=reader;Password=...;\",\n        \"Description\": \"Analytics warehouse\"\n      }\n    }\n  }\n}\n</code></pre> Key Type Description <code>Connections</code> <code>object</code> Map of named connections. The key (e.g. <code>\"Production\"</code>) is what you refer to in queries. <code>ConnectionString</code> <code>string</code> Standard ADO.NET connection string. <code>Description</code> <code>string</code> Human-readable label shown to the AI. <p>Security constraint</p> <p>All SQL queries are SELECT-only. INSERT, UPDATE, DELETE, DROP, ALTER, CREATE, TRUNCATE, EXEC and others are blocked. Queries time out after 30 seconds and return at most 1,000 rows.</p>"},{"location":"getting-started/configuration/#http","title":"HTTP","text":"<pre><code>{\n  \"Http\": {\n    \"AllowedHosts\": [\n      \"api.github.com\",\n      \"your-internal-api.company.com\"\n    ],\n    \"TimeoutSeconds\": 30\n  }\n}\n</code></pre> Key Type Default Description <code>AllowedHosts</code> <code>string[]</code> <code>[]</code> Hostnames the server may call. Subdomains are automatically included (e.g. <code>github.com</code> also allows <code>api.github.com</code>). <code>TimeoutSeconds</code> <code>int</code> <code>30</code> HTTP request timeout in seconds. <p>Security constraint</p> <p>Only HTTP and HTTPS schemes are allowed. Responses are truncated at 10,000 characters.</p>"},{"location":"getting-started/configuration/#server","title":"Server","text":"<pre><code>{\n  \"Server\": {\n    \"Name\": \"dotnet-mcp-server\",\n    \"Version\": \"1.0.0\"\n  }\n}\n</code></pre>"},{"location":"getting-started/configuration/#logging","title":"Logging","text":"<pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Warning\",\n      \"McpServer\": \"Information\"\n    }\n  }\n}\n</code></pre> <p>Logs are written to stderr so they never interfere with the JSON-RPC protocol on stdout. Capture them with:</p> <pre><code>dotnet-mcp-server 2&gt; server.log\n</code></pre>"},{"location":"getting-started/configuration/#plugins","title":"Plugins","text":"<pre><code>{\n  \"Plugins\": {\n    \"Enabled\": true,\n    \"Directory\": \"plugins\",\n    \"Config\": {\n      \"my_api_key\": \"your-value-here\",\n      \"greeting_prefix\": \"Hey\"\n    }\n  }\n}\n</code></pre> Key Type Default Description <code>Enabled</code> <code>bool</code> <code>true</code> Whether to load plugin DLLs from the plugins directory. <code>Directory</code> <code>string</code> <code>\"plugins\"</code> Path to the plugins directory (relative to config dir, or absolute). <code>Config</code> <code>object</code> <code>{}</code> Flat key-value map passed to plugins via <code>PluginContext.GetConfig()</code>."},{"location":"getting-started/configuration/#environment-variable-overrides","title":"Environment Variable Overrides","text":"<p>Any config value can be overridden via environment variables using the standard .NET naming convention: replace <code>:</code> with <code>__</code> (double underscore).</p> <pre><code># Override the SQL connection string for \"Production\"\nexport Sql__Connections__Production__ConnectionString=\"Server=...;...\"\n\n# Change the log level\nexport Logging__LogLevel__Default=Debug\n</code></pre>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Connect your MCP client \u2192</li> <li>Explore ready-to-use profiles \u2192</li> <li>Understand security constraints \u2192</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>There are three ways to install dotnet-mcp-server. Choose the one that fits your setup.</p>"},{"location":"getting-started/installation/#option-a-global-net-tool-recommended","title":"Option A \u2014 Global .NET Tool (Recommended)","text":"<p>The simplest path. Installs the server as a global CLI command.</p> <p>Prerequisites: .NET 8 SDK</p> <pre><code>dotnet tool install -g DotnetMcpServer\n</code></pre> <p>Run the interactive setup wizard to create your config file:</p> <pre><code>dotnet-mcp-server --init\n</code></pre> <p>The wizard writes <code>appsettings.json</code> to your user config directory:</p> OS Config location Windows <code>%APPDATA%\\dotnet-mcp-server\\appsettings.json</code> Linux / macOS <code>~/.config/dotnet-mcp-server/appsettings.json</code> <p>Verify everything is wired up correctly:</p> <pre><code>dotnet-mcp-server --validate\n</code></pre> <p>To update later:</p> <pre><code>dotnet tool update -g DotnetMcpServer\n</code></pre>"},{"location":"getting-started/installation/#option-b-clone-and-build","title":"Option B \u2014 Clone and Build","text":"<p>For contributors or anyone who wants to run from source.</p> <p>Prerequisites: .NET 8 SDK, Git</p> <pre><code>git clone https://github.com/Argha713/dotnet-mcp-server.git\ncd dotnet-mcp-server\ndotnet build\n</code></pre> <p>Edit the local config file at <code>src/McpServer/appsettings.json</code>:</p> <pre><code>{\n  \"FileSystem\": {\n    \"AllowedPaths\": [\n      \"C:\\\\Users\\\\YourName\\\\Documents\",\n      \"C:\\\\Projects\"\n    ]\n  },\n  \"Sql\": {\n    \"Connections\": {\n      \"MyDB\": {\n        \"ConnectionString\": \"Server=localhost;Database=MyDB;Trusted_Connection=True;\",\n        \"Description\": \"My local database\"\n      }\n    }\n  },\n  \"Http\": {\n    \"AllowedHosts\": [\n      \"api.github.com\",\n      \"jsonplaceholder.typicode.com\"\n    ]\n  }\n}\n</code></pre> <p>Run the server:</p> <pre><code>dotnet run --project src/McpServer\n</code></pre> <p>When connecting a client in Option B mode, replace <code>\"command\": \"dotnet-mcp-server\"</code> with:</p> <pre><code>\"command\": \"dotnet\",\n\"args\": [\"run\", \"--project\", \"C:\\\\path\\\\to\\\\dotnet-mcp-server\\\\src\\\\McpServer\"]\n</code></pre>"},{"location":"getting-started/installation/#option-c-docker-no-net-required","title":"Option C \u2014 Docker (No .NET Required)","text":"<p>Run the server in a container alongside a demo SQL Server. No .NET SDK needed on your machine.</p> <p>Prerequisites: Docker Desktop</p> <p>Step 1: Copy the example config and env files:</p> <pre><code>cp docker/appsettings.example.json docker/appsettings.json\ncp .env.example .env\n</code></pre> <p>Step 2: Edit <code>docker/appsettings.json</code> to set your allowed paths, SQL connections, and HTTP hosts. Edit <code>.env</code> to set a strong <code>SQL_SA_PASSWORD</code>.</p> <p>Step 3: Build and start both services:</p> <pre><code>docker-compose up --build\n</code></pre> <p>Note</p> <p>The Docker build runs the full test suite. If any test fails, the build is aborted.</p> <p>For Docker client config, see the Connecting Clients \u2192 Claude Desktop section and use the Docker run pattern shown there.</p>"},{"location":"getting-started/installation/#manual-testing-no-client-needed","title":"Manual Testing (No Client Needed)","text":"<p>You can test the server from any terminal by sending raw JSON-RPC:</p> <pre><code>dotnet run --project src/McpServer\n</code></pre> <p>Paste these lines one at a time:</p> <pre><code>{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"clientInfo\":{\"name\":\"manual-test\",\"version\":\"1.0\"}}}\n{\"jsonrpc\":\"2.0\",\"method\":\"notifications/initialized\"}\n{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/list\"}\n{\"jsonrpc\":\"2.0\",\"id\":3,\"method\":\"tools/call\",\"params\":{\"name\":\"datetime\",\"arguments\":{\"action\":\"now\"}}}\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Connect your MCP client \u2192</li> <li>Configure allowed paths, databases, and hosts \u2192</li> </ul>"},{"location":"plugins/","title":"Plugin System","text":"<p>dotnet-mcp-server has a drop-in plugin system. You can add your own tools to the server without forking or modifying the core project.</p>"},{"location":"plugins/#how-it-works","title":"How It Works","text":"<ol> <li>You write a .NET class library that implements the <code>ITool</code> interface</li> <li>You build it to a DLL</li> <li>You copy the DLL into the <code>plugins/</code> directory</li> <li>The server discovers and loads it automatically on the next start</li> </ol> <p>The server scans for DLLs in the <code>plugins/</code> folder at startup, instantiates any class implementing <code>ITool</code>, and registers them alongside the built-in tools. Your plugin tool appears in <code>tools/list</code> exactly like a built-in.</p>"},{"location":"plugins/#plugin-vs-built-in-tool","title":"Plugin vs. Built-in Tool","text":"Built-in tool Plugin tool Where code lives <code>src/McpServer/Tools/</code> Your own repository How to install Always included Copy DLL to <code>plugins/</code> Requires server fork No (it's in the server) No Requires server restart N/A Yes, once after installing Config access Via <code>IOptions&lt;T&gt;</code> Via <code>PluginContext.GetConfig()</code>"},{"location":"plugins/#plugin-directory-location","title":"Plugin Directory Location","text":"Install method Plugins directory Global tool (Windows) <code>%APPDATA%\\dotnet-mcp-server\\plugins\\</code> Global tool (Linux/macOS) <code>~/.config/dotnet-mcp-server/plugins\\</code> Clone &amp; build <code>plugins\\</code> next to <code>appsettings.json</code> <p>You can override the directory via <code>appsettings.json</code>:</p> <pre><code>{\n  \"Plugins\": {\n    \"Directory\": \"C:\\\\MyCustomPlugins\"\n  }\n}\n</code></pre>"},{"location":"plugins/#getting-started","title":"Getting Started","text":"<p>The fastest way to write a plugin is with the project template:</p> <pre><code>dotnet new install DotnetMcpServer.Templates\ndotnet new mcp-tool -n MyTool\n</code></pre> <p>Full Plugin Quickstart \u2192</p>"},{"location":"plugins/#plugin-configuration","title":"Plugin Configuration","text":"<p>Pass values to your plugin via the <code>Plugins.Config</code> section in <code>appsettings.json</code>:</p> <pre><code>{\n  \"Plugins\": {\n    \"Config\": {\n      \"api_base_url\": \"https://api.example.com\",\n      \"api_key\": \"your-key-here\"\n    }\n  }\n}\n</code></pre> <p>Read them in your plugin using the <code>PluginContext</code> constructor:</p> <pre><code>public class MyTool : ITool\n{\n    private readonly string _apiBaseUrl;\n\n    public MyTool(PluginContext context)\n    {\n        _apiBaseUrl = context.GetConfig(\"api_base_url\") ?? \"https://default.example.com\";\n    }\n}\n</code></pre> <p>API Reference \u2192</p>"},{"location":"plugins/api-reference/","title":"Plugin API Reference","text":"<p>All plugin contracts are in the <code>McpServer.Plugin.Abstractions</code> NuGet package.</p> <pre><code>dotnet add package DotnetMcpServer.Abstractions\n</code></pre> <p>The scaffolded template adds this reference automatically.</p>"},{"location":"plugins/api-reference/#itool","title":"ITool","text":"<p>The core interface every plugin must implement.</p> <pre><code>public interface ITool\n{\n    string Name { get; }\n    string Description { get; }\n    JsonSchema InputSchema { get; }\n\n    Task&lt;ToolCallResult&gt; ExecuteAsync(\n        Dictionary&lt;string, object&gt;? arguments,\n        IProgressReporter? progress = null,\n        CancellationToken cancellationToken = default);\n}\n</code></pre> Member Description <code>Name</code> Unique tool name used in <code>tools/call</code> requests (e.g. <code>\"weather\"</code>) <code>Description</code> Human-readable description shown to the AI in <code>tools/list</code> <code>InputSchema</code> JSON Schema describing accepted parameters <code>ExecuteAsync</code> Called when the AI invokes this tool <p>Naming convention: Use <code>snake_case</code> for tool names (e.g. <code>weather_tool</code>, <code>my_api</code>).</p>"},{"location":"plugins/api-reference/#jsonschema","title":"JsonSchema","text":"<p>Describes the parameters your tool accepts.</p> <pre><code>public class JsonSchema\n{\n    public string Type { get; set; }                                      // \"object\"\n    public Dictionary&lt;string, JsonSchemaProperty&gt; Properties { get; set; }\n    public List&lt;string&gt; Required { get; set; }\n}\n\npublic class JsonSchemaProperty\n{\n    public string Type { get; set; }          // \"string\", \"integer\", \"boolean\", \"number\"\n    public string Description { get; set; }\n    public List&lt;string&gt;? Enum { get; set; }   // Allowed values (optional)\n}\n</code></pre> <p>Example schema \u2014 tool with an <code>action</code> enum and a string <code>city</code> parameter:</p> <pre><code>public JsonSchema InputSchema =&gt; new()\n{\n    Type = \"object\",\n    Properties = new Dictionary&lt;string, JsonSchemaProperty&gt;\n    {\n        [\"action\"] = new()\n        {\n            Type = \"string\",\n            Description = \"The operation to perform\",\n            Enum = new List&lt;string&gt; { \"current\", \"forecast\" }\n        },\n        [\"city\"] = new()\n        {\n            Type = \"string\",\n            Description = \"City name (e.g. London, Tokyo)\"\n        }\n    },\n    Required = new List&lt;string&gt; { \"action\", \"city\" }\n};\n</code></pre>"},{"location":"plugins/api-reference/#toolcallresult","title":"ToolCallResult","text":"<p>The return type of <code>ExecuteAsync</code>. Contains a list of content blocks.</p> <pre><code>public class ToolCallResult\n{\n    public List&lt;ContentBlock&gt; Content { get; set; }\n    public bool IsError { get; set; }\n}\n</code></pre> Property Description <code>Content</code> One or more content blocks to return to the AI <code>IsError</code> Set to <code>true</code> to signal a tool error (the AI will see this as a failure)"},{"location":"plugins/api-reference/#contentblock","title":"ContentBlock","text":"<p>A single piece of content in a tool result.</p> <pre><code>public class ContentBlock\n{\n    public string Type { get; set; }    // \"text\" or \"image\"\n    public string? Text { get; set; }   // For Type = \"text\"\n}\n</code></pre> <p>For most plugins, you will only use <code>Type = \"text\"</code>.</p> <p>Helper pattern (recommended):</p> <pre><code>private static ToolCallResult Ok(string text) =&gt; new()\n{\n    Content = new List&lt;ContentBlock&gt; { new() { Type = \"text\", Text = text } }\n};\n\nprivate static ToolCallResult Error(string message) =&gt; new()\n{\n    Content = new List&lt;ContentBlock&gt; { new() { Type = \"text\", Text = message } },\n    IsError = true\n};\n</code></pre>"},{"location":"plugins/api-reference/#iprogressreporter","title":"IProgressReporter","text":"<p>Reports progress for long-running operations. Passed as a parameter to <code>ExecuteAsync</code>.</p> <pre><code>public interface IProgressReporter\n{\n    void Report(int percent, string? message = null);\n}\n</code></pre> <p>Always check for null</p> <p>The <code>progress</code> parameter may be <code>null</code> if the client did not provide a <code>progressToken</code>. Always null-check before calling <code>Report</code>.</p> <pre><code>public async Task&lt;ToolCallResult&gt; ExecuteAsync(\n    Dictionary&lt;string, object&gt;? arguments,\n    IProgressReporter? progress = null,\n    CancellationToken cancellationToken = default)\n{\n    progress?.Report(0, \"Starting...\");\n    // ... do work ...\n    progress?.Report(50, \"Halfway done...\");\n    // ... more work ...\n    progress?.Report(100, \"Complete\");\n    return Ok(\"Done\");\n}\n</code></pre>"},{"location":"plugins/api-reference/#plugincontext","title":"PluginContext","text":"<p>Passed to your tool's constructor if it accepts a <code>PluginContext</code> parameter. Provides config access and a logger.</p> <pre><code>public class PluginContext\n{\n    public ILogger Logger { get; }\n    public string? GetConfig(string key);\n}\n</code></pre> Member Description <code>Logger</code> <code>Microsoft.Extensions.Logging.ILogger</code> scoped to your tool class <code>GetConfig(key)</code> Returns the value at <code>Plugins.Config.&lt;key&gt;</code> in <code>appsettings.json</code>, or <code>null</code> if not set <p>Example:</p> <pre><code>public MyTool(PluginContext context)\n{\n    var apiKey = context.GetConfig(\"my_api_key\");\n    if (string.IsNullOrEmpty(apiKey))\n        throw new InvalidOperationException(\"my_api_key must be set in Plugins.Config\");\n\n    context.Logger.LogInformation(\"MyTool loaded, api_key length={Length}\", apiKey.Length);\n}\n</code></pre>"},{"location":"plugins/api-reference/#nullprogressreporter","title":"NullProgressReporter","text":"<p>A no-op implementation of <code>IProgressReporter</code> for use in tests.</p> <pre><code>var reporter = new NullProgressReporter();\nvar result = await myTool.ExecuteAsync(args, reporter, CancellationToken.None);\n</code></pre>"},{"location":"plugins/api-reference/#constructor-resolution-order","title":"Constructor Resolution Order","text":"<p>When loading a plugin DLL, the server checks:</p> <ol> <li>Is there a public constructor taking <code>(PluginContext ctx)</code>? \u2192 Use it, inject <code>PluginContext</code></li> <li>Is there a public parameterless constructor? \u2192 Use it</li> <li>Neither found \u2192 Log a warning and skip the type</li> </ol> <p>You can have both in a single file (e.g. the <code>SamplePlugin</code>) and the server will use the right one for each class.</p>"},{"location":"plugins/examples/","title":"Plugin Examples","text":"<p>The <code>examples/SamplePlugin/</code> directory in the repository contains a reference implementation showing both constructor patterns side by side.</p>"},{"location":"plugins/examples/#pattern-1-parameterless-constructor","title":"Pattern 1 \u2014 Parameterless Constructor","text":"<p>Use this when your tool needs no external configuration.</p> <pre><code>// examples/SamplePlugin/GreetingTool.cs\n\npublic class GreetingTool : ITool\n{\n    public string Name =&gt; \"greeting\";\n    public string Description =&gt;\n        \"Returns a personalised greeting. Action: 'greet' (required param: name).\";\n\n    public JsonSchema InputSchema =&gt; new()\n    {\n        Type = \"object\",\n        Properties = new Dictionary&lt;string, JsonSchemaProperty&gt;\n        {\n            [\"action\"] = new()\n            {\n                Type = \"string\",\n                Description = \"The action to perform\",\n                Enum = new List&lt;string&gt; { \"greet\" }\n            },\n            [\"name\"] = new()\n            {\n                Type = \"string\",\n                Description = \"The name to greet\"\n            }\n        },\n        Required = new List&lt;string&gt; { \"action\", \"name\" }\n    };\n\n    public Task&lt;ToolCallResult&gt; ExecuteAsync(\n        Dictionary&lt;string, object&gt;? arguments,\n        IProgressReporter? progress = null,\n        CancellationToken cancellationToken = default)\n    {\n        var action = arguments?.TryGetValue(\"action\", out var a) == true ? a?.ToString() : null;\n        var name   = arguments?.TryGetValue(\"name\",   out var n) == true ? n?.ToString() : null;\n\n        if (action?.ToLower() != \"greet\")\n            return Task.FromResult(Error($\"Unknown action '{action}'. Supported: greet\"));\n\n        if (string.IsNullOrWhiteSpace(name))\n            return Task.FromResult(Error(\"'name' parameter is required.\"));\n\n        return Task.FromResult(Ok($\"Hello, {name}! This greeting was delivered by a plugin tool.\"));\n    }\n\n    private static ToolCallResult Ok(string text) =&gt; new()\n    {\n        Content = new List&lt;ContentBlock&gt; { new() { Type = \"text\", Text = text } }\n    };\n\n    private static ToolCallResult Error(string message) =&gt; new()\n    {\n        Content = new List&lt;ContentBlock&gt; { new() { Type = \"text\", Text = message } },\n        IsError = true\n    };\n}\n</code></pre> <p>Key points:</p> <ul> <li>No constructor needed \u2014 the server calls <code>new GreetingTool()</code> automatically</li> <li>Arguments are extracted with the <code>TryGetValue</code> pattern</li> <li>Both a success path (<code>Ok</code>) and an error path (<code>Error</code>) are implemented as private helpers</li> <li><code>IsError = true</code> signals to the AI that the call failed</li> </ul>"},{"location":"plugins/examples/#pattern-2-plugincontext-constructor","title":"Pattern 2 \u2014 PluginContext Constructor","text":"<p>Use this when your tool needs configuration values from <code>appsettings.json</code>.</p> <pre><code>public class ConfigurableGreetingTool : ITool\n{\n    private readonly string _prefix;\n\n    // The server detects this constructor and injects PluginContext automatically.\n    public ConfigurableGreetingTool(PluginContext context)\n    {\n        // Read from: { \"Plugins\": { \"Config\": { \"greeting_prefix\": \"Hey\" } } }\n        _prefix = context.GetConfig(\"greeting_prefix\") ?? \"Hello\";\n        context.Logger.LogInformation(\n            \"ConfigurableGreetingTool initialised with prefix '{Prefix}'\", _prefix);\n    }\n\n    public string Name =&gt; \"greeting_configurable\";\n    public string Description =&gt;\n        \"Returns a configurable greeting. Prefix is read from Plugins:Config:greeting_prefix.\";\n\n    // ... InputSchema and ExecuteAsync follow the same pattern\n}\n</code></pre> <p>Key points:</p> <ul> <li>The <code>PluginContext</code> constructor takes priority over a parameterless constructor</li> <li><code>context.GetConfig(\"key\")</code> returns <code>null</code> if the key is not in <code>appsettings.json</code> \u2014 use <code>??</code> to provide a default</li> <li><code>context.Logger</code> is pre-scoped to your class name \u2014 logs go to the same stderr as the server</li> </ul>"},{"location":"plugins/examples/#both-patterns-in-one-dll","title":"Both Patterns in One DLL","text":"<p>You can put multiple tool classes in a single DLL. The server will discover and register all of them:</p> <pre><code>SamplePlugin.dll\n\u251c\u2500\u2500 GreetingTool          \u2192 registered as \"greeting\"\n\u2514\u2500\u2500 ConfigurableGreetingTool \u2192 registered as \"greeting_configurable\"\n</code></pre> <p>The DLL name does not matter \u2014 tool names come from each class's <code>Name</code> property.</p>"},{"location":"plugins/examples/#configuring-the-sample-plugin","title":"Configuring the Sample Plugin","text":"<p>To use the configurable greeting prefix, add to <code>appsettings.json</code>:</p> <pre><code>{\n  \"Plugins\": {\n    \"Config\": {\n      \"greeting_prefix\": \"Hey\"\n    }\n  }\n}\n</code></pre> <p>Without this, the default prefix <code>\"Hello\"</code> is used.</p>"},{"location":"plugins/examples/#testing-your-plugin","title":"Testing Your Plugin","text":"<p>Write unit tests directly against your <code>ITool</code> implementation \u2014 no server process needed:</p> <pre><code>[Fact]\npublic async Task Greet_WithValidName_ReturnsGreeting()\n{\n    var tool = new GreetingTool();\n    var args = new Dictionary&lt;string, object&gt;\n    {\n        [\"action\"] = \"greet\",\n        [\"name\"] = \"Alice\"\n    };\n\n    var result = await tool.ExecuteAsync(args);\n\n    result.IsError.Should().BeFalse();\n    result.Content[0].Text.Should().Contain(\"Alice\");\n}\n</code></pre> <ul> <li>Reference <code>McpServer.Plugin.Abstractions</code> in your test project</li> <li>Use <code>NullProgressReporter</code> if you need to pass a progress reporter</li> <li>No mocking or server setup required</li> </ul>"},{"location":"plugins/quickstart/","title":"Plugin Quickstart","text":"<p>This guide walks you through creating, building, and installing a custom plugin tool from scratch using the <code>dotnet new mcp-tool</code> template.</p>"},{"location":"plugins/quickstart/#prerequisites","title":"Prerequisites","text":"<ul> <li>.NET 8 SDK</li> <li>dotnet-mcp-server installed as a global tool, or cloned locally</li> </ul>"},{"location":"plugins/quickstart/#step-1-install-the-template","title":"Step 1 \u2014 Install the Template","text":"<pre><code>dotnet new install DotnetMcpServer.Templates\n</code></pre> <p>Verify it installed:</p> <pre><code>dotnet new list mcp-tool\n</code></pre> <p>You should see <code>mcp-tool</code> in the output.</p>"},{"location":"plugins/quickstart/#step-2-scaffold-your-plugin","title":"Step 2 \u2014 Scaffold Your Plugin","text":"<pre><code>dotnet new mcp-tool -n WeatherTool\ncd WeatherTool\n</code></pre> <p>This creates:</p> <pre><code>WeatherTool/\n\u251c\u2500\u2500 WeatherTool.csproj    # References McpServer.Plugin.Abstractions NuGet package\n\u251c\u2500\u2500 WeatherTool.cs        # ITool implementation with TODO markers\n\u2514\u2500\u2500 README.md             # Installation and verification instructions\n</code></pre>"},{"location":"plugins/quickstart/#step-3-implement-your-tool","title":"Step 3 \u2014 Implement Your Tool","text":"<p>Open <code>WeatherTool.cs</code>. The scaffolded file includes a complete <code>ITool</code> implementation with TODO markers where you add your logic:</p> <pre><code>public class WeatherTool : ITool\n{\n    public string Name =&gt; \"weather\";\n    public string Description =&gt; \"TODO: describe what your tool does\";\n\n    public JsonSchema InputSchema =&gt; new()\n    {\n        Type = \"object\",\n        Properties = new Dictionary&lt;string, JsonSchemaProperty&gt;\n        {\n            [\"action\"] = new() { Type = \"string\", Enum = new List&lt;string&gt; { \"TODO\" } },\n            // TODO: add more parameters\n        },\n        Required = new List&lt;string&gt; { \"action\" }\n    };\n\n    public Task&lt;ToolCallResult&gt; ExecuteAsync(\n        Dictionary&lt;string, object&gt;? arguments,\n        IProgressReporter? progress = null,\n        CancellationToken cancellationToken = default)\n    {\n        var action = arguments?.TryGetValue(\"action\", out var a) == true\n            ? a?.ToString() : null;\n\n        // TODO: implement your actions\n        return Task.FromResult(Ok(\"Hello from WeatherTool!\"));\n    }\n\n    private static ToolCallResult Ok(string text) =&gt; new()\n    {\n        Content = new List&lt;ContentBlock&gt; { new() { Type = \"text\", Text = text } }\n    };\n}\n</code></pre> <p>Replace the TODO markers with your implementation.</p>"},{"location":"plugins/quickstart/#step-4-build","title":"Step 4 \u2014 Build","text":"<pre><code>dotnet build -c Release\n</code></pre>"},{"location":"plugins/quickstart/#step-5-install-the-plugin","title":"Step 5 \u2014 Install the Plugin","text":"<p>Copy the compiled DLL to the plugins directory:</p> Windows (Global Tool)Linux / macOS (Global Tool)Clone &amp; Build <pre><code>copy bin\\Release\\net8.0\\WeatherTool.dll \"$env:APPDATA\\dotnet-mcp-server\\plugins\\\"\n</code></pre> <pre><code>cp bin/Release/net8.0/WeatherTool.dll ~/.config/dotnet-mcp-server/plugins/\n</code></pre> <pre><code>cp bin/Release/net8.0/WeatherTool.dll /path/to/dotnet-mcp-server/plugins/\n</code></pre>"},{"location":"plugins/quickstart/#step-6-verify","title":"Step 6 \u2014 Verify","text":"<p>Restart the server. Your tool will appear in <code>tools/list</code>:</p> <pre><code>{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"clientInfo\":{\"name\":\"test\",\"version\":\"1.0\"}}}\n{\"jsonrpc\":\"2.0\",\"method\":\"notifications/initialized\"}\n{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/list\"}\n</code></pre> <p>Look for <code>\"name\": \"weather\"</code> in the response.</p>"},{"location":"plugins/quickstart/#adding-plugin-configuration","title":"Adding Plugin Configuration","text":"<p>If your tool needs configuration values (API keys, base URLs, etc.), use the <code>PluginContext</code> constructor pattern:</p> <pre><code>public class WeatherTool : ITool\n{\n    private readonly string _apiKey;\n\n    public WeatherTool(PluginContext context)\n    {\n        _apiKey = context.GetConfig(\"weather_api_key\")\n            ?? throw new InvalidOperationException(\"weather_api_key is required in Plugins.Config\");\n        context.Logger.LogInformation(\"WeatherTool initialised\");\n    }\n\n    // ... rest of the implementation\n}\n</code></pre> <p>Add the value to <code>appsettings.json</code>:</p> <pre><code>{\n  \"Plugins\": {\n    \"Config\": {\n      \"weather_api_key\": \"your-api-key-here\"\n    }\n  }\n}\n</code></pre> <p>Constructor detection</p> <p>The server checks for a <code>PluginContext</code> constructor first. If not found, it falls back to a parameterless constructor. Both patterns work fine \u2014 use the parameterless pattern for simple tools that need no configuration.</p>"},{"location":"plugins/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference \u2014 ITool, PluginContext, and more \u2192</li> <li>See an annotated real-world example \u2192</li> </ul>"},{"location":"security/trust/","title":"Security &amp; Trust","text":"<p>This page explains exactly how dotnet-mcp-server protects your passwords, API keys, and other secrets \u2014 and why you can trust it when connecting AI assistants to your real systems.</p>"},{"location":"security/trust/#the-core-promise","title":"The Core Promise","text":"<p>Your passwords, connection strings, and API keys never leave your machine and are never seen by the AI.</p> <p>This is not a policy. It is a structural guarantee built into how the server works.</p>"},{"location":"security/trust/#how-it-works-the-architecture","title":"How It Works \u2014 The Architecture","text":"<p>When you ask an AI assistant to query your database, the flow looks like this:</p> <pre><code>You \u2192 AI Assistant \u2192 dotnet-mcp-server \u2192 Your Database\n                          \u2191\n                    reads appsettings.json\n                    (never sent to AI)\n</code></pre> <p>The AI assistant only ever sees names \u2014 not secrets.</p> <p>For example, when you say \"query the production database\", the AI sends this to the server:</p> <pre><code>{\n  \"action\": \"query\",\n  \"database\": \"production\",\n  \"query\": \"SELECT * FROM Orders\"\n}\n</code></pre> <p>The AI sends the name <code>\"production\"</code>. The server looks up the actual connection string \u2014 including the password \u2014 from <code>appsettings.json</code> on your machine. That lookup happens inside the server process. The password never travels through the AI conversation.</p>"},{"location":"security/trust/#why-the-ai-cannot-see-your-secrets","title":"Why The AI Cannot See Your Secrets","text":"<p>There are three layers that enforce this:</p>"},{"location":"security/trust/#1-the-tool-schema-has-no-password-field","title":"1. The tool schema has no password field","text":"<p>Every tool exposes a schema that describes what parameters it accepts. The <code>sql_query</code> tool has parameters for <code>action</code>, <code>database</code>, <code>query</code>, <code>table</code> \u2014 and no <code>password</code> field. The AI literally cannot ask for a password because the parameter does not exist in the protocol.</p>"},{"location":"security/trust/#2-configuration-is-offline","title":"2. Configuration is offline","text":"<p>Your <code>appsettings.json</code> file is read directly by the server process on startup. It is never read through the AI, never passed as a tool argument, and never sent anywhere. The AI has no way to request the contents of your config file.</p>"},{"location":"security/trust/#3-errors-are-sanitized-before-reaching-the-ai","title":"3. Errors are sanitized before reaching the AI","text":"<p>If a connection fails, the raw error message from the database driver can sometimes contain the full connection string \u2014 including the password. dotnet-mcp-server strips all sensitive fields from every error message before sending it back. The AI sees:</p> <pre><code>Login failed. Connection: Server=myserver;Database=mydb;User Id=sa;Password=***\n</code></pre> <p>Not:</p> <pre><code>Login failed. Connection: Server=myserver;Database=mydb;User Id=sa;Password=MyRealPassword123\n</code></pre> <p>This sanitization runs unconditionally on every error path. There is no code path that can accidentally leak a password.</p>"},{"location":"security/trust/#per-tool-guarantees","title":"Per-Tool Guarantees","text":""},{"location":"security/trust/#sql-query-tool","title":"SQL Query Tool","text":"What stays safe How Database passwords Stored in <code>appsettings.json</code>, never in AI conversation Connection strings Resolved by server using connection name \u2014 string never sent to AI Error messages Passwords stripped from all error output before response Dangerous queries Only <code>SELECT</code> allowed \u2014 AI cannot instruct the server to delete or modify data <p>When you configure a database, use the <code>configure_connection</code> action to provide the host, port, database name, and username. The server writes a partial connection string to <code>appsettings.json</code>. You then add the password directly to that file yourself \u2014 it never goes through the AI.</p>"},{"location":"security/trust/#filesystem-tool","title":"FileSystem Tool","text":"What stays safe How Files outside your allowed paths Path allowlist enforced server-side \u2014 AI cannot access files outside configured directories SSH private keys, <code>.env</code> files, credential stores Only accessible if you explicitly add those directories to <code>AllowedPaths</code> (which you should not do) <p>The AI can only access files you explicitly permit. It cannot browse your entire filesystem.</p>"},{"location":"security/trust/#http-request-tool","title":"HTTP Request Tool","text":"What stays safe How Authorization headers and Bearer tokens If you pass an <code>Authorization</code> header in a request, it goes directly to the target API \u2014 it does not get stored, logged, or echoed back Internal network endpoints Host allowlist prevents the AI from probing internal services not on your approved list <p>Recommendation</p> <p>For API keys used on every request (e.g. a service token), configure them in <code>appsettings.json</code> as a default header rather than passing them through the AI each time. This keeps the key out of your conversation history entirely. (Coming in Phase 7 \u2014 Authentication &amp; Permissions)</p>"},{"location":"security/trust/#environment-tool","title":"Environment Tool","text":"What stays safe How Passwords, tokens, API keys in env vars Variables whose names contain <code>PASSWORD</code>, <code>SECRET</code>, <code>TOKEN</code>, <code>KEY</code>, <code>CREDENTIAL</code>, <code>PRIVATE</code>, <code>PWD</code>, <code>APIKEY</code> return <code>***</code> instead of the real value Custom sensitive variables Add variable name patterns to <code>AdditionalBlockedVariables</code> in config to extend the blocklist <p>The masking happens at the server level \u2014 the value is replaced before being included in any response. There is no way for the AI to bypass this.</p>"},{"location":"security/trust/#git-tool","title":"Git Tool","text":"What stays safe How Git credentials (username/password, SSH keys) The tool only reads repository state (status, log, diff). It never touches credential storage Commit content Read-only \u2014 the AI cannot push, commit, or modify history"},{"location":"security/trust/#what-we-dont-do","title":"What We Don't Do","text":"<ul> <li>We do not send telemetry. The server is a local subprocess with no outbound connections of its own.</li> <li>We do not log your queries or file reads to any external service.</li> <li>We do not have a cloud component. Everything runs on your machine.</li> <li>We do not require an account or registration.</li> </ul>"},{"location":"security/trust/#coming-next-authentication-permissions","title":"Coming Next \u2014 Authentication &amp; Permissions","text":"<p>Phase 7 of the roadmap adds explicit per-tool authentication and permissions:</p> <ul> <li>Per-connection API keys \u2014 store keys in config, never pass through AI</li> <li>Tool-level access control \u2014 restrict which AI clients can call which tools</li> <li>Audit logging \u2014 every tool call written to a local log file with timestamp and arguments</li> </ul> <p>When Phase 7 lands, this page will be updated with the full details.</p> <p>View Roadmap \u2192</p>"},{"location":"security/trust/#reporting-a-security-issue","title":"Reporting a Security Issue","text":"<p>If you find a vulnerability, do not open a public GitHub issue. Use the GitHub Security Advisory to report it privately.</p>"},{"location":"tools/","title":"Tools Overview","text":"<p>dotnet-mcp-server ships with nine built-in tools. Each tool uses an <code>action</code> parameter to dispatch sub-operations.</p> Tool Actions Best for DateTime <code>now</code>, <code>convert</code> Current time, timezone conversion FileSystem <code>read_file</code>, <code>list_directory</code>, <code>search_files</code> Reading files and navigating directories SQL Query <code>query</code>, <code>list_tables</code>, <code>describe_table</code>, <code>list_connections</code> Read-only database queries HTTP Request <code>get</code>, <code>post</code> Calling external REST APIs Text <code>regex_match</code>, <code>regex_replace</code>, <code>word_count</code>, <code>diff_text</code>, <code>format_json</code>, <code>format_xml</code> Text processing and formatting Data Transform <code>json_query</code>, <code>csv_to_json</code>, <code>json_to_csv</code>, <code>xml_to_json</code>, <code>base64_encode</code>, <code>base64_decode</code>, <code>hash</code> Format conversion and encoding Environment <code>get</code>, <code>list</code>, <code>has</code> Reading environment variables System Info <code>system_info</code>, <code>processes</code>, <code>network</code> OS details, running processes, network Git <code>status</code>, <code>log</code>, <code>diff</code>, <code>branch_list</code>, <code>blame</code> Read-only Git repository inspection"},{"location":"tools/#how-tools-work","title":"How Tools Work","text":"<p>All tools communicate via JSON-RPC 2.0. The AI sends a <code>tools/call</code> request:</p> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"datetime\",\n    \"arguments\": {\n      \"action\": \"now\"\n    }\n  }\n}\n</code></pre> <p>The server routes by <code>name</code>, then dispatches by <code>action</code> inside the tool.</p>"},{"location":"tools/#security-model","title":"Security Model","text":"<p>Each tool has its own security constraints that are enforced at the server level and cannot be bypassed:</p> <ul> <li>FileSystem \u2014 paths validated against an allowlist; 1 MB read limit</li> <li>SQL \u2014 SELECT-only; 17 dangerous keywords blocked; 30s timeout; max 1,000 rows</li> <li>HTTP \u2014 host allowlist with subdomain support; HTTP/HTTPS only; 10K char response limit</li> <li>Git \u2014 read-only operations; argument sanitization</li> <li>Environment \u2014 hardcoded blocklist for sensitive variable names</li> </ul> <p>See the Security Constraints page for full details.</p>"},{"location":"tools/#plugin-tools","title":"Plugin Tools","text":"<p>You can add your own tools without modifying the server. See the Plugin Development section.</p>"},{"location":"tools/data-transform/","title":"Data Transform Tool","text":"<p>Converts between data formats, queries JSON, encodes/decodes data, and computes hashes.</p> <p>XXE prevention</p> <p>XML parsing uses a hardened <code>XmlReader</code> configuration to prevent XML External Entity (XXE) injection attacks.</p>"},{"location":"tools/data-transform/#actions","title":"Actions","text":""},{"location":"tools/data-transform/#json_query","title":"<code>json_query</code>","text":"<p>Queries a JSON structure using a JSONPath-like expression.</p> <p>Parameters:</p> Parameter Type Required Description <code>json</code> string Yes JSON string to query <code>query</code> string Yes Query expression (e.g. <code>$.users[*].email</code>) <p>Example:</p> <pre><code>{\n  \"name\": \"data_transform\",\n  \"arguments\": {\n    \"action\": \"json_query\",\n    \"json\": \"{\\\"users\\\": [{\\\"email\\\": \\\"a@b.com\\\"}, {\\\"email\\\": \\\"c@d.com\\\"}]}\",\n    \"query\": \"$.users[*].email\"\n  }\n}\n</code></pre>"},{"location":"tools/data-transform/#csv_to_json","title":"<code>csv_to_json</code>","text":"<p>Converts a CSV string to a JSON array of objects.</p> <p>Parameters:</p> Parameter Type Required Description <code>csv</code> string Yes CSV input (first row is treated as the header) <code>delimiter</code> string No Column delimiter (default: <code>\",\"</code>)"},{"location":"tools/data-transform/#json_to_csv","title":"<code>json_to_csv</code>","text":"<p>Converts a JSON array of objects to CSV.</p> <p>Parameters:</p> Parameter Type Required Description <code>json</code> string Yes JSON array of objects"},{"location":"tools/data-transform/#xml_to_json","title":"<code>xml_to_json</code>","text":"<p>Converts XML to a JSON representation.</p> <p>Parameters:</p> Parameter Type Required Description <code>xml</code> string Yes XML string to convert"},{"location":"tools/data-transform/#base64_encode","title":"<code>base64_encode</code>","text":"<p>Encodes a UTF-8 string to Base64.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes Text to encode"},{"location":"tools/data-transform/#base64_decode","title":"<code>base64_decode</code>","text":"<p>Decodes a Base64 string back to UTF-8.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes Base64-encoded string to decode"},{"location":"tools/data-transform/#hash","title":"<code>hash</code>","text":"<p>Computes a cryptographic hash of the input text.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes Text to hash <code>algorithm</code> string No Hash algorithm: <code>\"sha256\"</code> (default), <code>\"sha512\"</code>, <code>\"md5\"</code>"},{"location":"tools/data-transform/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"Convert this CSV to JSON\"</li> <li>\"Extract all user emails from this JSON\"</li> <li>\"Base64 encode this string\"</li> <li>\"Generate a SHA256 hash of this text\"</li> <li>\"Convert this XML API response to JSON\"</li> <li>\"Transform this JSON data into a CSV file\"</li> </ul>"},{"location":"tools/datetime/","title":"DateTime Tool","text":"<p>Returns the current date and time, or converts a time between timezones.</p>"},{"location":"tools/datetime/#actions","title":"Actions","text":""},{"location":"tools/datetime/#now","title":"<code>now</code>","text":"<p>Returns the current UTC time and the server's local time.</p> <p>Parameters: none required.</p> <p>Example:</p> <pre><code>{\n  \"name\": \"datetime\",\n  \"arguments\": {\n    \"action\": \"now\"\n  }\n}\n</code></pre>"},{"location":"tools/datetime/#convert","title":"<code>convert</code>","text":"<p>Converts a time from one timezone to another.</p> <p>Parameters:</p> Parameter Type Required Description <code>time</code> string Yes Time to convert (e.g. <code>\"3:00 PM\"</code>, <code>\"15:00\"</code>, <code>\"2026-02-25T15:00:00\"</code>) <code>from_timezone</code> string Yes Source timezone (e.g. <code>\"EST\"</code>, <code>\"America/New_York\"</code>, <code>\"UTC\"</code>) <code>to_timezone</code> string Yes Target timezone (e.g. <code>\"IST\"</code>, <code>\"Asia/Kolkata\"</code>, <code>\"UTC+5:30\"</code>) <p>Example:</p> <pre><code>{\n  \"name\": \"datetime\",\n  \"arguments\": {\n    \"action\": \"convert\",\n    \"time\": \"3:00 PM\",\n    \"from_timezone\": \"EST\",\n    \"to_timezone\": \"IST\"\n  }\n}\n</code></pre>"},{"location":"tools/datetime/#prompt-examples","title":"Prompt Examples","text":"<p>Ask your AI assistant:</p> <ul> <li>\"What time is it right now?\"</li> <li>\"What time is it in Tokyo?\"</li> <li>\"Convert 3pm EST to IST\"</li> <li>\"What's the current UTC time?\"</li> <li>\"If it's 9am in New York, what time is it in London?\"</li> </ul>"},{"location":"tools/environment/","title":"Environment Tool","text":"<p>Reads environment variables from the server process. Sensitive values are automatically masked.</p> <p>Sensitive variable values are always masked</p> <p>Variables whose names suggest they contain secrets \u2014 passwords, tokens, API keys, private keys, credentials \u2014 are automatically masked. The AI receives <code>***</code> instead of the real value. This masking happens at the server level and cannot be bypassed by the AI.</p> <p>You can extend the blocklist in configuration to cover custom variable names specific to your environment. See the Security &amp; Trust Guide.</p> <p>Security constraint</p> <p>A hardcoded blocklist prevents exposing common secret variable names. Variables whose names contain words like <code>PASSWORD</code>, <code>SECRET</code>, <code>TOKEN</code>, <code>KEY</code>, <code>CREDENTIAL</code>, <code>PRIVATE</code>, <code>API_KEY</code>, and similar patterns return a masked value (<code>***</code>) rather than the real content.</p>"},{"location":"tools/environment/#actions","title":"Actions","text":""},{"location":"tools/environment/#get","title":"<code>get</code>","text":"<p>Returns the value of a single environment variable.</p> <p>Parameters:</p> Parameter Type Required Description <code>name</code> string Yes Environment variable name <p>Example:</p> <pre><code>{\n  \"name\": \"environment\",\n  \"arguments\": {\n    \"action\": \"get\",\n    \"name\": \"JAVA_HOME\"\n  }\n}\n</code></pre>"},{"location":"tools/environment/#list","title":"<code>list</code>","text":"<p>Lists environment variables, with optional name filtering.</p> <p>Parameters:</p> Parameter Type Required Description <code>filter</code> string No Substring filter on variable names (case-insensitive) <p>Example \u2014 list all Node-related variables:</p> <pre><code>{\n  \"name\": \"environment\",\n  \"arguments\": {\n    \"action\": \"list\",\n    \"filter\": \"NODE\"\n  }\n}\n</code></pre>"},{"location":"tools/environment/#has","title":"<code>has</code>","text":"<p>Checks whether an environment variable exists (without revealing its value).</p> <p>Parameters:</p> Parameter Type Required Description <code>name</code> string Yes Environment variable name to check"},{"location":"tools/environment/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"What is my JAVA_HOME set to?\"</li> <li>\"Show me all Node-related environment variables\"</li> <li>\"Is DOCKER_HOST configured?\"</li> <li>\"What PATH directories are set?\"</li> <li>\"List all environment variables with 'HOME' in the name\"</li> </ul>"},{"location":"tools/filesystem/","title":"FileSystem Tool","text":"<p>Reads files and lists directory contents. All paths are validated against the <code>AllowedPaths</code> configuration before any operation is performed.</p> <p>Your files stay private</p> <p>The AI can only access directories you explicitly list in <code>AllowedPaths</code>. It cannot browse your full filesystem, read files outside those directories, or access sensitive locations like SSH key folders, password manager databases, or <code>.env</code> files unless you intentionally allow those paths. Never add your home directory or credential directories to <code>AllowedPaths</code>.</p> <p>See the Security &amp; Trust Guide for details.</p> <p>Security constraint</p> <p>Only paths that are a subdirectory of (or equal to) a configured <code>AllowedPaths</code> entry are accessible. Path traversal attempts (e.g. <code>../etc/passwd</code>) are blocked. Files larger than 1 MB cannot be read.</p>"},{"location":"tools/filesystem/#actions","title":"Actions","text":""},{"location":"tools/filesystem/#read_file","title":"<code>read_file</code>","text":"<p>Reads the content of a file.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Absolute path to the file <p>Example:</p> <pre><code>{\n  \"name\": \"filesystem\",\n  \"arguments\": {\n    \"action\": \"read_file\",\n    \"path\": \"C:\\\\Projects\\\\myapp\\\\README.md\"\n  }\n}\n</code></pre>"},{"location":"tools/filesystem/#list_directory","title":"<code>list_directory</code>","text":"<p>Lists files and subdirectories at the given path.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Absolute path to the directory <p>Example:</p> <pre><code>{\n  \"name\": \"filesystem\",\n  \"arguments\": {\n    \"action\": \"list_directory\",\n    \"path\": \"C:\\\\Projects\\\\myapp\"\n  }\n}\n</code></pre>"},{"location":"tools/filesystem/#search_files","title":"<code>search_files</code>","text":"<p>Recursively searches for files matching a pattern within an allowed directory.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Root directory to search from <code>pattern</code> string Yes Glob pattern (e.g. <code>\"*.cs\"</code>, <code>\"**/*.json\"</code>) <p>Example:</p> <pre><code>{\n  \"name\": \"filesystem\",\n  \"arguments\": {\n    \"action\": \"search_files\",\n    \"path\": \"C:\\\\Projects\\\\myapp\",\n    \"pattern\": \"*.cs\"\n  }\n}\n</code></pre>"},{"location":"tools/filesystem/#configuration","title":"Configuration","text":"<p>Add directories to the allowlist in <code>appsettings.json</code>:</p> <pre><code>{\n  \"FileSystem\": {\n    \"AllowedPaths\": [\n      \"C:\\\\Users\\\\YourName\\\\Documents\",\n      \"C:\\\\Projects\",\n      \"/home/user/projects\"\n    ]\n  }\n}\n</code></pre> <p>Subdirectories are automatically included. You do not need to list them separately.</p>"},{"location":"tools/filesystem/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"Read the contents of README.md\"</li> <li>\"List files in my Documents folder\"</li> <li>\"Search for all .cs files in my projects\"</li> <li>\"What's in the src directory?\"</li> <li>\"Show me the appsettings.json file\"</li> </ul>"},{"location":"tools/git/","title":"Git Tool","text":"<p>Performs read-only Git operations on local repositories. All paths and arguments are validated before execution.</p> <p>Your Git credentials are never exposed</p> <p>This tool only reads repository state. It never interacts with your Git credential store, SSH keys, or authentication tokens. The AI cannot push, commit, or modify your repository in any way \u2014 the tool is strictly read-only.</p> <p>See the Security &amp; Trust Guide.</p> <p>Security constraint</p> <p>Only read-only Git commands are allowed. Write operations (commit, push, reset, checkout, merge, etc.) are not exposed. Repository paths are validated and argument injection is prevented.</p>"},{"location":"tools/git/#actions","title":"Actions","text":""},{"location":"tools/git/#status","title":"<code>status</code>","text":"<p>Returns the working tree status of a repository.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Absolute path to the Git repository root"},{"location":"tools/git/#log","title":"<code>log</code>","text":"<p>Returns recent commits from the repository history.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Absolute path to the repository root <code>count</code> integer No Number of commits to return (default: <code>10</code>) <code>branch</code> string No Branch name (default: current branch)"},{"location":"tools/git/#diff","title":"<code>diff</code>","text":"<p>Returns the diff of uncommitted changes, or the diff between two commits/branches.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Absolute path to the repository root <code>from</code> string No Base commit/branch (default: working tree diff) <code>to</code> string No Target commit/branch"},{"location":"tools/git/#branch_list","title":"<code>branch_list</code>","text":"<p>Lists all local (and optionally remote) branches.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Absolute path to the repository root <code>include_remote</code> boolean No Include remote-tracking branches (default: <code>false</code>)"},{"location":"tools/git/#blame","title":"<code>blame</code>","text":"<p>Returns the blame annotation for a file, showing who last modified each line.</p> <p>Parameters:</p> Parameter Type Required Description <code>path</code> string Yes Absolute path to the repository root <code>file</code> string Yes Path to the file, relative to the repository root <code>from_line</code> integer No Starting line number <code>to_line</code> integer No Ending line number"},{"location":"tools/git/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"What files have I changed in this repo?\"</li> <li>\"Show me the last 10 commits\"</li> <li>\"What's the diff of my current changes?\"</li> <li>\"Who last modified line 42 of Program.cs?\"</li> <li>\"List all branches in this repository\"</li> <li>\"Show me the commit history for the main branch\"</li> </ul>"},{"location":"tools/http/","title":"HTTP Request Tool","text":"<p>Makes GET and POST requests to external APIs. All requests are validated against the <code>AllowedHosts</code> configuration.</p> <p>Authorization headers stay safe</p> <p>If you include an <code>Authorization</code> header (e.g. a Bearer token or API key) in a request, it is sent directly to the target API. It is not stored, logged, or echoed back in the response. The AI does not see the value after it is used.</p> <p>For tokens you use on every request, store them in your application rather than passing them through the AI each time. See the Security &amp; Trust Guide.</p> <p>Security constraints</p> <ul> <li>Only hosts in the <code>AllowedHosts</code> list are reachable (subdomains are automatically included)</li> <li>Only <code>http://</code> and <code>https://</code> schemes are allowed</li> <li>Response bodies are truncated at 10,000 characters</li> </ul>"},{"location":"tools/http/#actions","title":"Actions","text":""},{"location":"tools/http/#get","title":"<code>get</code>","text":"<p>Sends an HTTP GET request.</p> <p>Parameters:</p> Parameter Type Required Description <code>url</code> string Yes The full URL to fetch <code>headers</code> object No Key-value pairs to include as request headers <p>Example:</p> <pre><code>{\n  \"name\": \"http_request\",\n  \"arguments\": {\n    \"action\": \"get\",\n    \"url\": \"https://api.github.com/users/Argha713\",\n    \"headers\": {\n      \"User-Agent\": \"dotnet-mcp-server\"\n    }\n  }\n}\n</code></pre>"},{"location":"tools/http/#post","title":"<code>post</code>","text":"<p>Sends an HTTP POST request with a JSON body.</p> <p>Parameters:</p> Parameter Type Required Description <code>url</code> string Yes The full URL to post to <code>body</code> object Yes JSON body to send <code>headers</code> object No Key-value pairs to include as request headers <p>Example:</p> <pre><code>{\n  \"name\": \"http_request\",\n  \"arguments\": {\n    \"action\": \"post\",\n    \"url\": \"https://httpbin.org/post\",\n    \"body\": {\n      \"key\": \"value\"\n    }\n  }\n}\n</code></pre>"},{"location":"tools/http/#configuration","title":"Configuration","text":"<pre><code>{\n  \"Http\": {\n    \"AllowedHosts\": [\n      \"api.github.com\",\n      \"api.stripe.com\",\n      \"your-internal-api.company.com\"\n    ],\n    \"TimeoutSeconds\": 30\n  }\n}\n</code></pre> <p>Subdomain matching</p> <p>Adding <code>github.com</code> also allows <code>api.github.com</code>, <code>raw.githubusercontent.com</code> and any other subdomain. You can add the apex domain to allow all subdomains, or add a specific subdomain to restrict access.</p>"},{"location":"tools/http/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"Get my GitHub profile info\"</li> <li>\"Fetch the latest posts from the JSONPlaceholder API\"</li> <li>\"What APIs can you access?\"</li> <li>\"Post this data to my webhook\"</li> <li>\"Check if the GitHub API is responding\"</li> </ul>"},{"location":"tools/sql/","title":"SQL Query Tool","text":"<p>Executes read-only SQL queries against configured database connections. Supports SQL Server, PostgreSQL, MySQL, and SQLite. Only SELECT statements are allowed.</p> <p>Your passwords never reach the AI</p> <p>Database passwords are stored in <code>appsettings.json</code> on your machine. The AI only ever receives a connection name (e.g. <code>\"production\"</code>). The server resolves the password internally. Passwords are never passed through the AI conversation and are stripped from all error messages before any response is sent.</p> <p>See the Security &amp; Trust Guide for the full explanation.</p> <p>Security constraints</p> <ul> <li>Only <code>SELECT</code> statements are permitted</li> <li>The following keywords are blocked: <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>DROP</code>, <code>ALTER</code>, <code>CREATE</code>, <code>TRUNCATE</code>, <code>EXEC</code>, <code>EXECUTE</code>, <code>MERGE</code>, <code>REPLACE</code>, <code>CALL</code>, <code>GRANT</code>, <code>REVOKE</code>, <code>DENY</code>, <code>USE</code>, <code>BULK</code></li> <li>Semicolons and inline comments (<code>--</code>, <code>/* */</code>) are blocked to prevent statement chaining</li> <li>Queries time out after 30 seconds</li> <li>Results are capped at 1,000 rows</li> </ul>"},{"location":"tools/sql/#supported-databases","title":"Supported Databases","text":"Provider key Database engine Default port <code>SqlServer</code> Microsoft SQL Server (2017+) 1433 <code>PostgreSQL</code> PostgreSQL (12+) 5432 <code>MySQL</code> MySQL / MariaDB (5.7+) 3306 <code>SQLite</code> SQLite (any version) \u2014 (file-based)"},{"location":"tools/sql/#actions","title":"Actions","text":""},{"location":"tools/sql/#list_databases","title":"<code>list_databases</code>","text":"<p>Lists all configured connection names and their provider types.</p> <p>Parameters: none required.</p> <p>Example response: <pre><code>Configured database connections:\n  \ud83d\uddc4\ufe0f production [SqlServer] \u2014 Production database\n  \ud83d\uddc4\ufe0f analytics [PostgreSQL] \u2014 Analytics warehouse\n  \ud83d\uddc4\ufe0f local [SQLite] \u2014 Local dev database\n</code></pre></p>"},{"location":"tools/sql/#query","title":"<code>query</code>","text":"<p>Executes a SELECT query against a named connection.</p> <p>Parameters:</p> Parameter Type Required Description <code>database</code> string Yes Connection name as defined in <code>appsettings.json</code> <code>query</code> string Yes The SELECT query to execute <code>max_rows</code> string No Maximum rows to return (default: 100, max: 1000) <p>Example:</p> <pre><code>{\n  \"name\": \"sql_query\",\n  \"arguments\": {\n    \"action\": \"query\",\n    \"database\": \"production\",\n    \"query\": \"SELECT TOP 10 CustomerName, Revenue FROM Customers ORDER BY Revenue DESC\"\n  }\n}\n</code></pre>"},{"location":"tools/sql/#list_tables","title":"<code>list_tables</code>","text":"<p>Lists all user tables and views in a configured database.</p> <p>Parameters:</p> Parameter Type Required Description <code>database</code> string Yes Connection name"},{"location":"tools/sql/#describe_table","title":"<code>describe_table</code>","text":"<p>Returns column names, types, nullability, and defaults for a table.</p> <p>Parameters:</p> Parameter Type Required Description <code>database</code> string Yes Connection name <code>table</code> string Yes Table name (optionally schema-qualified, e.g. <code>sales.Orders</code>)"},{"location":"tools/sql/#configure_connection","title":"<code>configure_connection</code>","text":"<p>Guides you through setting up a new database connection. Generates a partial connection string (without password) that you paste into <code>appsettings.json</code>.</p> <p>Why no password parameter?</p> <p>This action intentionally has no <code>password</code> field. Passwords must never be passed through an AI conversation. The action generates a connection string template with a <code>YOUR_PASSWORD_HERE</code> placeholder. You add the real password directly to <code>appsettings.json</code>.</p> <p>Parameters:</p> Parameter Type Required Description <code>provider</code> string Yes <code>SqlServer</code>, <code>PostgreSQL</code>, <code>MySQL</code>, or <code>SQLite</code> <code>host</code> string Yes Server hostname or IP (for SQLite: the file path) <code>port</code> string No Port number. Leave empty for provider default <code>db_name</code> string Yes Database or schema name <code>username</code> string No Database username (not required for SQLite) <code>connection_name</code> string Yes Name for this connection in your config (e.g. <code>\"production\"</code>) <code>description</code> string No Human-readable description <p>Example:</p> <pre><code>{\n  \"name\": \"sql_query\",\n  \"arguments\": {\n    \"action\": \"configure_connection\",\n    \"provider\": \"PostgreSQL\",\n    \"host\": \"myserver.example.com\",\n    \"port\": \"5432\",\n    \"db_name\": \"analytics\",\n    \"username\": \"readonly\",\n    \"connection_name\": \"analytics\",\n    \"description\": \"Analytics database\"\n  }\n}\n</code></pre> <p>Example response:</p> <pre><code>Connection template generated for 'analytics'.\n\nAdd the following entry to your Sql.Connections section in appsettings.json:\n\n\"analytics\": {\n  \"Provider\": \"PostgreSQL\",\n  \"ConnectionString\": \"Host=myserver.example.com;Port=5432;Database=analytics;Username=readonly;Password=YOUR_PASSWORD_HERE\",\n  \"Description\": \"Analytics database\"\n}\n\nIMPORTANT: The connection string above contains a placeholder password.\nOpen appsettings.json and replace YOUR_PASSWORD_HERE with the real password.\nNever share your password through this assistant.\n</code></pre>"},{"location":"tools/sql/#test_connection","title":"<code>test_connection</code>","text":"<p>Tests whether a configured connection is working. Returns a human-readable result with the error cause if it fails. Passwords are never shown.</p> <p>Parameters:</p> Parameter Type Required Description <code>database</code> string Yes Connection name to test <p>Example response (success):</p> <pre><code>Testing: analytics (PostgreSQL)\n  Connection: Host=myserver.example.com;Port=5432;Database=analytics;Username=readonly;Password=***\n\nResult: CONNECTED\n  Server version: 15.3\n</code></pre> <p>Example response (failure):</p> <pre><code>Testing: analytics (PostgreSQL)\n  Connection: Host=myserver.example.com;Port=5432;Database=analytics;Username=readonly;Password=***\n\nResult: FAILED\n  Login failed \u2014 wrong username or password. Check credentials in appsettings.json.\n  Connection: Host=myserver.example.com;...;Password=***\n</code></pre>"},{"location":"tools/sql/#configuration","title":"Configuration","text":"<pre><code>{\n  \"Sql\": {\n    \"Connections\": {\n      \"production\": {\n        \"Provider\": \"SqlServer\",\n        \"ConnectionString\": \"Server=prod-server;Database=MyApp;User Id=reader;Password=YOUR_PASSWORD_HERE;TrustServerCertificate=True\",\n        \"Description\": \"Production SQL Server (read-only account)\"\n      },\n      \"analytics\": {\n        \"Provider\": \"PostgreSQL\",\n        \"ConnectionString\": \"Host=dw.example.com;Port=5432;Database=analytics;Username=reader;Password=YOUR_PASSWORD_HERE\",\n        \"Description\": \"Analytics PostgreSQL warehouse\"\n      },\n      \"app-mysql\": {\n        \"Provider\": \"MySQL\",\n        \"ConnectionString\": \"Server=mysql.example.com;Port=3306;Database=appdb;Uid=reader;Pwd=YOUR_PASSWORD_HERE\",\n        \"Description\": \"Application MySQL database\"\n      },\n      \"local\": {\n        \"Provider\": \"SQLite\",\n        \"ConnectionString\": \"Data Source=C:\\\\Users\\\\You\\\\data\\\\local.db\",\n        \"Description\": \"Local SQLite database\"\n      }\n    }\n  }\n}\n</code></pre> <p>Backwards compatibility</p> <p>Existing configurations without a <code>Provider</code> field automatically use <code>SqlServer</code>. No migration required.</p>"},{"location":"tools/sql/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"What databases are configured?\"</li> <li>\"Set up a new PostgreSQL connection for my analytics database\"</li> <li>\"Test the production connection\"</li> <li>\"Show me the tables in the analytics database\"</li> <li>\"Query the top 10 customers by revenue from production\"</li> <li>\"Describe the structure of the Orders table\"</li> <li>\"How many rows are in the Products table?\"</li> <li>\"Show me orders placed in the last 30 days\"</li> </ul>"},{"location":"tools/system-info/","title":"System Info Tool","text":"<p>Returns information about the host machine: OS details, running processes, and network interfaces.</p>"},{"location":"tools/system-info/#actions","title":"Actions","text":""},{"location":"tools/system-info/#system_info","title":"<code>system_info</code>","text":"<p>Returns a summary of the host operating system and hardware.</p> <p>Parameters: none required.</p> <p>Returns: OS name and version, .NET runtime version, architecture, processor count, total/available RAM, disk drive information.</p> <p>Example:</p> <pre><code>{\n  \"name\": \"system_info\",\n  \"arguments\": {\n    \"action\": \"system_info\"\n  }\n}\n</code></pre>"},{"location":"tools/system-info/#processes","title":"<code>processes</code>","text":"<p>Lists currently running processes.</p> <p>Parameters:</p> Parameter Type Required Description <code>filter</code> string No Substring filter on process name <code>sort_by</code> string No Sort field: <code>\"name\"</code> (default), <code>\"memory\"</code>, <code>\"cpu\"</code> <code>top</code> integer No Return only the top N processes (default: all) <p>Example \u2014 top 10 processes by memory:</p> <pre><code>{\n  \"name\": \"system_info\",\n  \"arguments\": {\n    \"action\": \"processes\",\n    \"sort_by\": \"memory\",\n    \"top\": 10\n  }\n}\n</code></pre>"},{"location":"tools/system-info/#network","title":"<code>network</code>","text":"<p>Lists network interfaces and their IP addresses.</p> <p>Parameters: none required.</p> <p>Returns: Interface name, type, status, and associated IP addresses (IPv4 and IPv6).</p>"},{"location":"tools/system-info/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"How much disk space do I have?\"</li> <li>\"What processes are using the most memory?\"</li> <li>\"What's my OS version and .NET runtime?\"</li> <li>\"Show me my network interfaces\"</li> <li>\"Is the node process running?\"</li> <li>\"How many CPU cores does this machine have?\"</li> </ul>"},{"location":"tools/text/","title":"Text Tool","text":"<p>Performs text processing operations: regex matching and replacement, word counting, diff, and JSON/XML formatting.</p> <p>ReDoS protection</p> <p>All regex operations run with a timeout to prevent Regular Expression Denial of Service (ReDoS) attacks caused by catastrophically backtracking patterns.</p>"},{"location":"tools/text/#actions","title":"Actions","text":""},{"location":"tools/text/#regex_match","title":"<code>regex_match</code>","text":"<p>Finds all matches of a regex pattern in the input text.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes The input text to search <code>pattern</code> string Yes Regular expression pattern <code>case_insensitive</code> boolean No Whether to ignore case (default: <code>false</code>) <p>Example:</p> <pre><code>{\n  \"name\": \"text\",\n  \"arguments\": {\n    \"action\": \"regex_match\",\n    \"text\": \"Contact us at hello@example.com or support@test.org\",\n    \"pattern\": \"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}\"\n  }\n}\n</code></pre>"},{"location":"tools/text/#regex_replace","title":"<code>regex_replace</code>","text":"<p>Replaces all matches of a regex pattern with a replacement string.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes The input text <code>pattern</code> string Yes Regular expression pattern to match <code>replacement</code> string Yes Replacement string (supports <code>$1</code>, <code>$2</code> capture group references) <code>case_insensitive</code> boolean No Whether to ignore case (default: <code>false</code>) <p>Example:</p> <pre><code>{\n  \"name\": \"text\",\n  \"arguments\": {\n    \"action\": \"regex_replace\",\n    \"text\": \"Server=localhost:3000;\",\n    \"pattern\": \"localhost:3000\",\n    \"replacement\": \"api.prod.com\"\n  }\n}\n</code></pre>"},{"location":"tools/text/#word_count","title":"<code>word_count</code>","text":"<p>Counts words, characters, lines, and sentences in the text.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes The input text"},{"location":"tools/text/#diff_text","title":"<code>diff_text</code>","text":"<p>Computes a line-by-line diff between two text inputs.</p> <p>Parameters:</p> Parameter Type Required Description <code>original</code> string Yes Original text <code>modified</code> string Yes Modified text"},{"location":"tools/text/#format_json","title":"<code>format_json</code>","text":"<p>Pretty-prints minified or poorly formatted JSON.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes JSON string to format"},{"location":"tools/text/#format_xml","title":"<code>format_xml</code>","text":"<p>Pretty-prints minified or poorly formatted XML.</p> <p>Parameters:</p> Parameter Type Required Description <code>text</code> string Yes XML string to format"},{"location":"tools/text/#prompt-examples","title":"Prompt Examples","text":"<ul> <li>\"Find all email addresses in this text\"</li> <li>\"Replace localhost:3000 with api.prod.com in my config\"</li> <li>\"How many words are in this document?\"</li> <li>\"Show me the diff between these two configs\"</li> <li>\"Pretty-print this minified JSON\"</li> <li>\"Format this XML response\"</li> </ul>"}]}